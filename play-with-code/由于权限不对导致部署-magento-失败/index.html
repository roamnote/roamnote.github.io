<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:"><title>ç”±äºæƒé™ä¸å¯¹å¯¼è‡´éƒ¨ç½² magento å¤±è´¥</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{moveBreadcrumb(),closeTocWhenScroll(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body><header><nav id="Breadcrumb"><a href="/" title="æ¼«æ¸¸ç¬”è®°" data-short-title="ğŸ "><span>ğŸ  æ¼«æ¸¸ç¬”è®°</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/%E7%94%B1%E4%BA%8E%E6%9D%83%E9%99%90%E4%B8%8D%E5%AF%B9%E5%AF%BC%E8%87%B4%E9%83%A8%E7%BD%B2-magento-%E5%A4%B1%E8%B4%A5/" title="ç”±äºæƒé™ä¸å¯¹å¯¼è‡´éƒ¨ç½² magento å¤±è´¥" data-short-title="ç”±äºæƒé™"><span id="LastBreadcrumb" title="ç”±äºæƒé™ä¸å¯¹å¯¼è‡´éƒ¨ç½² magento å¤±è´¥">ç”±äºæƒé™ä¸å¯¹å¯¼è‡´éƒ¨ç½² magento å¤±è´¥</span></a></nav><div id="Toolbar" data-nosnippet=""><details id="TocButton"><summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></summary><nav id="TableOfContents"><ul><li><a href="#é—®é¢˜é‡ç°">é—®é¢˜é‡ç°</a></li><li><a href="#é—®é¢˜åŸå› ">é—®é¢˜åŸå› </a></li><li><a href="#è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</a></li></ul></nav><div id="TocHeaderMask"></div></details><button id="SearchButton">ğŸ”</button></div></header><div id="SearchBox" data-nosnippet=""><input id="SearchInput" tabindex="0" autocomplete="off" placeholder="æœç´¢"><div id="SearchToolBar"></div><div id="SearchResults" class="no-hover"></div></div><picture><source srcset="https://storage.roamnote.com:8000/hero-w4000.jpg,
https://storage.roamnote.com:8000/hero-w8000.jpg 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.jpg,
https://storage.roamnote.com:8000/hero-w4000.jpg 2x" media="(min-width: 750px)"><source srcset="https://storage.roamnote.com:8000/hero-w1000.jpg,
https://storage.roamnote.com:8000/hero-w2000.jpg 2x" media="(min-width: 390px)"><source srcset="https://storage.roamnote.com:8000/hero-w4000.avif,
https://storage.roamnote.com:8000/hero-w8000.avif 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.avif,
https://storage.roamnote.com:8000/hero-w4000.avif 2x" media="(min-width: 750px)"><img srcset="https://storage.roamnote.com:8000/hero-w1000.avif,
https://storage.roamnote.com:8000/hero-w2000.avif 2x" alt="æ¼«æ¸¸ç¬”è®°" width="1920" style="aspect-ratio:1920/441"></picture><main><article pageurl="/play-with-code/%E7%94%B1%E4%BA%8E%E6%9D%83%E9%99%90%E4%B8%8D%E5%AF%B9%E5%AF%BC%E8%87%B4%E9%83%A8%E7%BD%B2-magento-%E5%A4%B1%E8%B4%A5/" pagetitle="ç”±äºæƒé™ä¸å¯¹å¯¼è‡´éƒ¨ç½² magento å¤±è´¥"><h1 id="a0">ç”±äºæƒé™ä¸å¯¹å¯¼è‡´éƒ¨ç½² magento å¤±è´¥</h1><time id="UpdateDate">2024å¹´01æœˆ12æ—¥</time><aside id="TocArticle"><nav id="TableOfContents"><ul id="a4"><li id="a5"><a href="#é—®é¢˜é‡ç°" id="a6">é—®é¢˜é‡ç°</a></li><li id="a7"><a href="#é—®é¢˜åŸå› " id="a8">é—®é¢˜åŸå› </a></li><li id="a9"><a href="#è§£å†³æ–¹æ¡ˆ" id="a10">è§£å†³æ–¹æ¡ˆ</a></li></ul></nav></aside><a id="fixYOffset" class="internal-link" href="#" style=""></a><h2 class="heading" id="é—®é¢˜é‡ç°">é—®é¢˜é‡ç°<a class="heading-anchor" href="/play-with-code/%E7%94%B1%E4%BA%8E%E6%9D%83%E9%99%90%E4%B8%8D%E5%AF%B9%E5%AF%BC%E8%87%B4%E9%83%A8%E7%BD%B2-magento-%E5%A4%B1%E8%B4%A5/#%e9%97%ae%e9%a2%98%e9%87%8d%e7%8e%b0" id="a13"></a></h2><ul id="a14"><li id="a15">ä½¿ç”¨ <code id="a16">root</code> èº«ä»½ç™»å½•æœåŠ¡å™¨</li><li id="a17"><code id="a18">git clone</code> æ‹‰å–ä»£ç </li><li id="a19"><code id="a20">composer install</code> å®‰è£…åŒ…</li><li id="a21">å®‰è£… magento</li></ul><div class="highlight" id="a22"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a23"><button data-text="å¤åˆ¶" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', 'å·²å¤åˆ¶');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', 'å¤åˆ¶');this.removeAttribute('style')}, 1000);" id="a24"></button><code id="a25"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a26"><span style="color: #F8F8F2;" id="a27">bin/magento setup:install \</span></div><div class="line" id="a28"><span style="color: #F8F8F2;" id="a29">--base-url=https://xx.xx.com \</span></div><div class="line" id="a30"><span style="color: #F8F8F2;" id="a31">--db-host=127.0.0.1:3308 \</span></div><div class="line" id="a32"><span style="color: #F8F8F2;" id="a33">--db-name=magento \</span></div><div class="line" id="a34"><span style="color: #F8F8F2;" id="a35">--db-user=root \</span></div><div class="line" id="a36"><span style="color: #F8F8F2;" id="a37">--db-password= \</span></div><div class="line" id="a38"><span style="color: #F8F8F2;" id="a39">--backend-frontname=admin \</span></div><div class="line" id="a40"><span style="color: #F8F8F2;" id="a41">--admin-firstname=admin \</span></div><div class="line" id="a42"><span style="color: #F8F8F2;" id="a43">--admin-lastname=admin \</span></div><div class="line" id="a44"><span style="color: #F8F8F2;" id="a45">--admin-email=admin@admin.com \</span></div><div class="line" id="a46"><span style="color: #F8F8F2;" id="a47">--admin-user=admin \</span></div><div class="line" id="a48"><span style="color: #F8F8F2;" id="a49">--admin-password=xx \</span></div><div class="line" id="a50"><span style="color: #F8F8F2;" id="a51">--language=en_US \</span></div><div class="line" id="a52"><span style="color: #F8F8F2;" id="a53">--currency=AUD \</span></div><div class="line" id="a54"><span style="color: #F8F8F2;" id="a55">--timezone=Australia/Melbourne \</span></div><div class="line" id="a56"><span style="color: #F8F8F2;" id="a57">--use-rewrites=1 \</span></div><div class="line" id="a58"><span style="color: #F8F8F2;" id="a59">--search-engine=opensearch \</span></div><div class="line" id="a60"><span style="color: #F8F8F2;" id="a61">--elasticsearch-host=localhost \</span></div><div class="line" id="a62"><span style="color: #F8F8F2;" id="a63">--elasticsearch-port=9200 \</span></div><div class="line" id="a64"><span style="color: #F8F8F2;" id="a65">--elasticsearch-index-prefix=magento \</span></div><div class="line" id="a66"><span style="color: #F8F8F2;" id="a67">--elasticsearch-timeout=15</span></div></code></pre></div><ul id="a68"><li id="a69">æ‰§è¡Œ <code id="a70">php bin/magento s:d:c</code> æ„å»ºä¾èµ–</li><li id="a71">æ‰§è¡Œ <code id="a72">php bin/magento s:up</code> æ›´æ–°è½¯ä»¶</li><li id="a73">é…ç½® <code id="a74">/etc/caddy/Caddyfile</code></li></ul><div class="highlight" id="a75"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a76"><button data-text="å¤åˆ¶" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', 'å·²å¤åˆ¶');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', 'å¤åˆ¶');this.removeAttribute('style')}, 1000);" id="a77"></button><code id="a78"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a79"><span style="color: #F8F8F2;" id="a80">xx.xx.com {</span></div><div class="line" id="a81"><span style="color: #F8F8F2;" id="a82">    root * /srv/magento/pub</span></div><div class="line" id="a83"><span style="color: #F8F8F2;" id="a84">    php_fastcgi 127.0.0.1:9000</span></div><div class="line" id="a85"><span style="color: #F8F8F2;" id="a86">    file_server</span></div><div class="line" id="a87">&nbsp;</div><div class="line" id="a88"><span style="color: #F8F8F2;" id="a89">    encode gzip</span></div><div class="line" id="a90"><span style="color: #F8F8F2;" id="a91">    log {</span></div><div class="line" id="a92"><span style="color: #F8F8F2;" id="a93">        output file /var/log/caddy/access.log</span></div><div class="line" id="a94"><span style="color: #F8F8F2;" id="a95">        format console</span></div><div class="line" id="a96"><span style="color: #F8F8F2;" id="a97">    }</span></div><div class="line" id="a98">&nbsp;</div><div class="line" id="a99"><span style="color: #F8F8F2;" id="a100">    # Enable pretty url rewrites</span></div><div class="line" id="a101"><span style="color: #F8F8F2;" id="a102">    try_files {path} {path}/ /index.php?{query}&amp;p={path}</span></div><div class="line" id="a103">&nbsp;</div><div class="line" id="a104"><span style="color: #F8F8F2;" id="a105">    # Protect sensitive resources</span></div><div class="line" id="a106"><span style="color: #F8F8F2;" id="a107">    @protected {</span></div><div class="line" id="a108"><span style="color: #F8F8F2;" id="a109">        path_regexp ^/(app/|includes/|lib/|var/|vendor/|generated/|setup/|update/|dev/|downloader/|shell/)</span></div><div class="line" id="a110"><span style="color: #F8F8F2;" id="a111">    }</span></div><div class="line" id="a112"><span style="color: #F8F8F2;" id="a113">    respond @protected 403</span></div><div class="line" id="a114"><span style="color: #F8F8F2;" id="a115">}</span></div></code></pre></div><ul id="a116"><li id="a117">æ‰§è¡Œ <code id="a118">systemctl restart caddy</code> é‡å¯ caddy</li><li id="a119">æ‰“å¼€ç½‘ç«™ï¼Œå‘ç°æŠ¥é”™ http 500</li></ul><h2 class="heading" id="é—®é¢˜åŸå› ">é—®é¢˜åŸå› <a class="heading-anchor" href="/play-with-code/%E7%94%B1%E4%BA%8E%E6%9D%83%E9%99%90%E4%B8%8D%E5%AF%B9%E5%AF%BC%E8%87%B4%E9%83%A8%E7%BD%B2-magento-%E5%A4%B1%E8%B4%A5/#%e9%97%ae%e9%a2%98%e5%8e%9f%e5%9b%a0" id="a121"></a></h2><p id="a122"><span class="unwrap" id="a123">åœ¨<a class="internal-link" href="/play-with-code/å¦‚ä½•æŸ¥çœ‹-php-fpm-ç›‘å¬çš„æ˜¯-unix-sock-è¿˜æ˜¯-tcp/" id="a124" style="">å¦‚ä½•æŸ¥çœ‹ php fpm ç›‘å¬çš„æ˜¯ UNIX sock è¿˜æ˜¯ TCP</a>æ–‡ä¸­æåˆ° <code id="a125">/etc/php-fpm.d/www.conf</code>ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥è¿˜å¯ä»¥é…ç½®è¿è¡Œ php-fpm çš„ç”¨æˆ·ã€‚å…¶ä¸­æœ‰ä¸¤è¡Œæ˜¯ï¼š</span></p><div class="highlight" id="a126"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a127"><button data-text="å¤åˆ¶" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', 'å·²å¤åˆ¶');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', 'å¤åˆ¶');this.removeAttribute('style')}, 1000);" id="a128"></button><code id="a129"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a130"><span style="color: #F8F8F2;" id="a131">user = caddy</span></div><div class="line" id="a132"><span style="color: #F8F8F2;" id="a133">group = caddy</span></div></code></pre></div><p id="a134"><span class="unwrap" id="a135">è¿™é‡Œçš„ç”¨æˆ·æœ‰å‡ ä¸ªè¦æ±‚ï¼š</span></p><ul id="a136"><li id="a137">é rootï¼Œå› ä¸º <code id="a138">php-fpm</code> è‡ªèº«è¦æ±‚ä¸èƒ½ä½¿ç”¨ root è§’è‰²æ¥è¿è¡Œ <code id="a139">php-fpm</code></li><li id="a140">ç³»ç»Ÿä¸­å·²ç»å­˜åœ¨çš„è§’è‰²ï¼Œå¯ä»¥ä½¿ç”¨ <code id="a141">cat /etc/passwd</code> æ¥æŸ¥çœ‹ç³»ç»Ÿä¸­æœ‰å“ªäº›ç”¨æˆ·</li><li id="a142">è¯¥è§’è‰²èƒ½å¤Ÿè®¿é—®ç½‘ç«™çš„æ–‡ä»¶å’Œç›®å½•ã€‚è¿™ä¹Ÿæ˜¯æœ¬æ¬¡é—®é¢˜æ‰€åœ¨ï¼Œç”±äºä¸Šé¢ä½¿ç”¨ <code id="a143">root</code> ç”¨æˆ·åˆ›å»ºäº†ç½‘ç«™æ–‡ä»¶å¤¹ï¼Œå¯¼è‡´å…¶ç”¨æˆ·æ˜¯ <code id="a144">root</code>ï¼Œä»¥è‡³äº p<code id="a145">hp-fpm</code> æ²¡æœ‰æƒé™æ¥è®¿é—®ç½‘ç«™çš„æ–‡ä»¶å’Œç›®å½•</li></ul><h2 class="heading" id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ<a class="heading-anchor" href="/play-with-code/%E7%94%B1%E4%BA%8E%E6%9D%83%E9%99%90%E4%B8%8D%E5%AF%B9%E5%AF%BC%E8%87%B4%E9%83%A8%E7%BD%B2-magento-%E5%A4%B1%E8%B4%A5/#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" id="a147"></a></h2><p id="a148"><span class="unwrap" id="a149">ä½¿ç”¨å‘½ä»¤ <code id="a150">sudo chown -R caddy:caddy /psrv/magento</code> æŠŠç½‘ç«™æ–‡ä»¶å’Œç›®å½•çš„ç”¨æˆ·æ›´æ”¹ä¸º <code id="a151">caddy</code> å³å¯</span></p></article><aside id="TocAside" data-nosnippet=""><style>@media(min-width:1201px) and (max-width:1500px){main{margin-left:calc(50% - 600px)!important}}</style><nav id="TableOfContents"><ul><li><a href="#é—®é¢˜é‡ç°">é—®é¢˜é‡ç°</a></li><li><a href="#é—®é¢˜åŸå› ">é—®é¢˜åŸå› </a></li><li><a href="#è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</a></li></ul></nav></aside></main></body></html>