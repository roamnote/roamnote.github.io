<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:"><title>Python 搭配 Automator 上传文件到 Github</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{moveBreadcrumb(),closeTocWhenScroll(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body style=""><header><nav id="Breadcrumb"><a href="/" title="漫游笔记" data-short-title="🏠"><span>🏠 漫游笔记</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" title="Python 搭配 Automator 上传文件到 Github" data-short-title="Pyth"><span id="LastBreadcrumb" title="Python 搭配 Automator 上传文件到 Github" style="left: 0px;">Python 搭配 Automator 上传文件到 Github</span></a></nav><div id="Toolbar" data-nosnippet=""><details id="TocButton"><summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></summary><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav><div id="TocHeaderMask"></div></details><button id="SearchButton">🔍</button></div></header><div id="SearchBox" data-nosnippet=""><input id="SearchInput" tabindex="0" autocomplete="off" placeholder="搜索"><div id="SearchToolBar"></div><div id="SearchResults" class="no-hover"></div></div><picture><source srcset="https://storage.roamnote.com:8000/hero-w4000.jpg,
https://storage.roamnote.com:8000/hero-w8000.jpg 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.jpg,
https://storage.roamnote.com:8000/hero-w4000.jpg 2x" media="(min-width: 750px)"><source srcset="https://storage.roamnote.com:8000/hero-w1000.jpg,
https://storage.roamnote.com:8000/hero-w2000.jpg 2x" media="(min-width: 390px)"><source srcset="https://storage.roamnote.com:8000/hero-w4000.avif,
https://storage.roamnote.com:8000/hero-w8000.avif 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.avif,
https://storage.roamnote.com:8000/hero-w4000.avif 2x" media="(min-width: 750px)"><img srcset="https://storage.roamnote.com:8000/hero-w1000.avif,
https://storage.roamnote.com:8000/hero-w2000.avif 2x" alt="漫游笔记" width="1920" style="aspect-ratio:1920/441"></picture><main><article pageurl="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" pagetitle="Python 搭配 Automator 上传文件到 Github"><h1 id="a0">Python 搭配 Automator 上传文件到 Github</h1><time id="UpdateDate">2024年01月22日</time><aside id="TocArticle"><nav id="TableOfContents"><ul id="a4"><li id="a5"><a href="#效果" id="a6">效果</a></li><li id="a7"><a href="#python-脚本" id="a8">Python 脚本</a></li><li id="a9"><a href="#配置项" id="a10">配置项</a></li><li id="a11"><a href="#安装-python-依赖" id="a12">安装 python 依赖</a></li><li id="a13"><a href="#在命令行运行脚本上传文件" id="a14">在命令行运行脚本上传文件</a></li><li id="a15"><a href="#搭配-automator-使用" id="a16">搭配 Automator 使用</a></li><li id="a17"><a href="#新建快速操作" id="a18">新建快速操作</a></li><li id="a19"><a href="#配置开始上传提示" id="a20">配置开始上传提示</a></li><li id="a21"><a href="#配置-shell-脚本" id="a22">配置 shell 脚本</a></li><li id="a23"><a href="#配置上传结束提示" id="a24">配置上传结束提示</a></li><li id="a25"><a href="#设置快捷键" id="a26">设置快捷键</a></li></ul></nav></aside><p id="a28"><span class="unwrap" id="a29">自从写博客以来，一直有上传图片的需求，一开始用第三方图床，例如微博等等，其缺点是图片不属于自己，某一天可能就无法访问了。后来也折腾过腾讯、阿里的对象存储。直到后来发现可以把文件存在 github 上，再配合 jsdelivr 的 CDN，在国内访问速度也挺快。</span></p><p id="a30"><span class="unwrap" id="a31">至于上传图片的工具，用过 <a href="https://apps.apple.com/cn/app/ipic-markdown-%E5%9B%BE%E5%BA%8A%E5%B7%A5%E5%85%B7/id1101244278?mt=12" class="external-link" target="_blank" id="a32">iPic</a>、<a href="https://github.com/gee1k/uPic" class="external-link" target="_blank" id="a33">uPic</a>、<a href="https://molunerfinn.com/PicGo/" class="external-link" target="_blank" id="a34">picGo</a>，其中 iPic 是付费的，他们的好处是支持不同的图床、配置方便、不需要折腾。</span></p><p id="a35"><span class="unwrap" id="a36">本着断舍离的原则，我写了一个 Python 脚本，配合系统自带的 Automator ，实现了把文件夹里的<strong id="a37">文件</strong>（含图片）、微信群里的图片或者剪切板的图片上传到 github，如果开了"接力"功能，也可以上传在手机里复制图片。</span></p><h2 class="heading" id="效果">效果<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%95%88%e6%9e%9c" id="a39"></a></h2><p id="a40"><span class="unwrap" id="a41"><img alt="20220916010307.gif" src="https://storage.roamnote.com:8000/20220916010307.gif" width="900" style="aspect-ratio: 900 / 563;" id="a42"></span></p><h2 class="heading" id="python-脚本">Python 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#python-%e8%84%9a%e6%9c%ac" id="a44"></a></h2><p id="a45"><span class="unwrap" id="a46">在电脑上新建一个 Python 文件，例如<code id="a47">upload-file.py</code>，把下面的内容复制进去。</span></p><div class="highlight" id="a48"><pre tabindex="0" style="overflow: hidden;" class="torchlight" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a49"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a50"></button><code class="language-python" data-lang="python" id="a51"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a52"><span style="color: #F92672;" id="a53">import</span><span style="color: #F8F8F2;" id="a54"> io</span></div><div class="line" id="a55"><span style="color: #F92672;" id="a56">import</span><span style="color: #F8F8F2;" id="a57"> os</span></div><div class="line" id="a58"><span style="color: #F92672;" id="a59">import</span><span style="color: #F8F8F2;" id="a60"> re</span></div><div class="line" id="a61"><span style="color: #F92672;" id="a62">import</span><span style="color: #F8F8F2;" id="a63"> json</span></div><div class="line" id="a64"><span style="color: #F92672;" id="a65">import</span><span style="color: #F8F8F2;" id="a66"> time</span></div><div class="line" id="a67"><span style="color: #F92672;" id="a68">import</span><span style="color: #F8F8F2;" id="a69"> base64</span></div><div class="line" id="a70"><span style="color: #F92672;" id="a71">import</span><span style="color: #F8F8F2;" id="a72"> requests</span></div><div class="line" id="a73"><span style="color: #F92672;" id="a74">import</span><span style="color: #F8F8F2;" id="a75"> subprocess</span></div><div class="line" id="a76">&nbsp;</div><div class="line" id="a77"><span style="color: #F92672;" id="a78">from</span><span style="color: #F8F8F2;" id="a79"> urllib </span><span style="color: #F92672;" id="a80">import</span><span style="color: #F8F8F2;" id="a81"> parse</span></div><div class="line" id="a82"><span style="color: #88846F;" id="a83"># Pillow</span></div><div class="line" id="a84"><span style="color: #F92672;" id="a85">from</span><span style="color: #F8F8F2;" id="a86"> </span><span style="color: #AE81FF;" id="a87">PIL</span><span style="color: #F8F8F2;" id="a88"> </span><span style="color: #F92672;" id="a89">import</span><span style="color: #F8F8F2;" id="a90"> Image, ImageGrab</span></div><div class="line" id="a91"><span style="color: #88846F;" id="a92"># PyObjC</span></div><div class="line" id="a93"><span style="color: #F92672;" id="a94">from</span><span style="color: #F8F8F2;" id="a95"> AppKit </span><span style="color: #F92672;" id="a96">import</span><span style="color: #F8F8F2;" id="a97"> NSPasteboard, NSURLPboardType</span></div><div class="line" id="a98">&nbsp;</div><div class="line" id="a99"><span style="color: #88846F;" id="a100"># 从剪切板获取完整的文件路径</span></div><div class="line" id="a101"><span style="color: #66D9EF;" id="a102">def</span><span style="color: #F8F8F2;" id="a103"> </span><span style="color: #A6E22E;" id="a104">getPath</span><span style="color: #F8F8F2;" id="a105">():</span></div><div class="line" id="a106"><span style="color: #F8F8F2;" id="a107">    </span><span style="color: #88846F;" id="a108"># https://developer.apple.com/documentation/appkit/nspasteboard/pasteboardtype</span></div><div class="line" id="a109"><span style="color: #F8F8F2;" id="a110">    pb </span><span style="color: #F92672;" id="a111">=</span><span style="color: #F8F8F2;" id="a112"> NSPasteboard.generalPasteboard()</span></div><div class="line" id="a113">&nbsp;</div><div class="line" id="a114"><span style="color: #F8F8F2;" id="a115">    url </span><span style="color: #F92672;" id="a116">=</span><span style="color: #F8F8F2;" id="a117"> pb.stringForType_(NSURLPboardType)</span></div><div class="line" id="a118">&nbsp;</div><div class="line" id="a119"><span style="color: #F8F8F2;" id="a120">    </span><span style="color: #F92672;" id="a121">if</span><span style="color: #F8F8F2;" id="a122"> url </span><span style="color: #F92672;" id="a123">is</span><span style="color: #F8F8F2;" id="a124"> </span><span style="color: #AE81FF;" id="a125">None</span><span style="color: #F8F8F2;" id="a126">:</span></div><div class="line" id="a127"><span style="color: #F8F8F2;" id="a128">        </span><span style="color: #F92672;" id="a129">return</span><span style="color: #F8F8F2;" id="a130"> </span><span style="color: #AE81FF;" id="a131">None</span></div><div class="line" id="a132"><span style="color: #F8F8F2;" id="a133">    </span><span style="color: #F92672;" id="a134">else</span><span style="color: #F8F8F2;" id="a135">:</span></div><div class="line" id="a136"><span style="color: #F8F8F2;" id="a137">        plistBytes </span><span style="color: #F92672;" id="a138">=</span><span style="color: #F8F8F2;" id="a139"> url.encode(</span><span style="color: #E6DB74;" id="a140">"utf-8"</span><span style="color: #F8F8F2;" id="a141">)</span></div><div class="line" id="a142"><span style="color: #F8F8F2;" id="a143">        pathByte </span><span style="color: #F92672;" id="a144">=</span><span style="color: #F8F8F2;" id="a145"> re.findall(</span><span style="color: #66D9EF;" id="a146">rb</span><span style="color: #E6DB74;" id="a147">'&lt;string&gt;file://(.</span><span style="color: #F92672;" id="a148">+?</span><span style="color: #E6DB74;" id="a149">)&lt;/string&gt;'</span><span style="color: #F8F8F2;" id="a150">, plistBytes)[</span><span style="color: #AE81FF;" id="a151">0</span><span style="color: #F8F8F2;" id="a152">]</span></div><div class="line" id="a153"><span style="color: #F8F8F2;" id="a154">        pathUTF8 </span><span style="color: #F92672;" id="a155">=</span><span style="color: #F8F8F2;" id="a156"> pathByte.decode(</span><span style="color: #E6DB74;" id="a157">'utf-8'</span><span style="color: #F8F8F2;" id="a158">)</span></div><div class="line" id="a159"><span style="color: #F8F8F2;" id="a160">        </span><span style="color: #F92672;" id="a161">return</span><span style="color: #F8F8F2;" id="a162"> parse.unquote(pathUTF8)</span></div><div class="line" id="a163">&nbsp;</div><div class="line" id="a164"><span style="color: #88846F;" id="a165"># 把数据推送到 github</span></div><div class="line" id="a166"><span style="color: #66D9EF;" id="a167">def</span><span style="color: #F8F8F2;" id="a168"> </span><span style="color: #A6E22E;" id="a169">push</span><span style="color: #F8F8F2;" id="a170">(</span><span style="color: #FD971F;" id="a171">base64</span><span style="color: #F8F8F2;" id="a172">, </span><span style="color: #FD971F;" id="a173">filename</span><span style="color: #F8F8F2;" id="a174">):</span></div><div class="line" id="a175"><span style="color: #F8F8F2;" id="a176">    url </span><span style="color: #F92672;" id="a177">=</span><span style="color: #F8F8F2;" id="a178"> </span><span style="color: #E6DB74;" id="a179">"https://api.github.com/repos/[yourGithubName]/[yourRepository]/contents/"</span><span style="color: #F8F8F2;" id="a180"> </span><span style="color: #F92672;" id="a181">+</span><span style="color: #F8F8F2;" id="a182"> filename</span></div><div class="line" id="a183">&nbsp;</div><div class="line" id="a184"><span style="color: #F8F8F2;" id="a185">    headers </span><span style="color: #F92672;" id="a186">=</span><span style="color: #F8F8F2;" id="a187"> {</span><span style="color: #E6DB74;" id="a188">"Authorization"</span><span style="color: #F8F8F2;" id="a189">: </span><span style="color: #E6DB74;" id="a190">"token [yourToken]"</span><span style="color: #F8F8F2;" id="a191">}</span></div><div class="line" id="a192">&nbsp;</div><div class="line" id="a193"><span style="color: #F8F8F2;" id="a194">    data </span><span style="color: #F92672;" id="a195">=</span><span style="color: #F8F8F2;" id="a196"> json.dumps({</span></div><div class="line" id="a197"><span style="color: #F8F8F2;" id="a198">        </span><span style="color: #E6DB74;" id="a199">"message"</span><span style="color: #F8F8F2;" id="a200">: </span><span style="color: #E6DB74;" id="a201">"auto commit"</span><span style="color: #F8F8F2;" id="a202">,</span></div><div class="line" id="a203"><span style="color: #F8F8F2;" id="a204">        </span><span style="color: #E6DB74;" id="a205">"committer"</span><span style="color: #F8F8F2;" id="a206">: {</span></div><div class="line" id="a207"><span style="color: #F8F8F2;" id="a208">            </span><span style="color: #E6DB74;" id="a209">"name"</span><span style="color: #F8F8F2;" id="a210">: </span><span style="color: #E6DB74;" id="a211">"[yourName]"</span><span style="color: #F8F8F2;" id="a212">,</span></div><div class="line" id="a213"><span style="color: #F8F8F2;" id="a214">            </span><span style="color: #E6DB74;" id="a215">"email"</span><span style="color: #F8F8F2;" id="a216">: </span><span style="color: #E6DB74;" id="a217">"[yourEmail]"</span></div><div class="line" id="a218"><span style="color: #F8F8F2;" id="a219">        },</span></div><div class="line" id="a220"><span style="color: #F8F8F2;" id="a221">        </span><span style="color: #E6DB74;" id="a222">"content"</span><span style="color: #F8F8F2;" id="a223">: base64</span></div><div class="line" id="a224"><span style="color: #F8F8F2;" id="a225">    })</span></div><div class="line" id="a226">&nbsp;</div><div class="line" id="a227"><span style="color: #F8F8F2;" id="a228">    response </span><span style="color: #F92672;" id="a229">=</span><span style="color: #F8F8F2;" id="a230"> requests.put(</span><span style="color: #FD971F;" id="a231">url</span><span style="color: #F92672;" id="a232">=</span><span style="color: #F8F8F2;" id="a233">url, </span><span style="color: #FD971F;" id="a234">data</span><span style="color: #F92672;" id="a235">=</span><span style="color: #F8F8F2;" id="a236">data, </span><span style="color: #FD971F;" id="a237">headers</span><span style="color: #F92672;" id="a238">=</span><span style="color: #F8F8F2;" id="a239">headers)</span></div><div class="line" id="a240">&nbsp;</div><div class="line" id="a241"><span style="color: #F8F8F2;" id="a242">    </span><span style="color: #F92672;" id="a243">return</span><span style="color: #F8F8F2;" id="a244"> response</span></div><div class="line" id="a245">&nbsp;</div><div class="line" id="a246"><span style="color: #88846F;" id="a247"># 从文件路径得到文件后缀</span></div><div class="line" id="a248"><span style="color: #66D9EF;" id="a249">def</span><span style="color: #F8F8F2;" id="a250"> </span><span style="color: #A6E22E;" id="a251">getExtension</span><span style="color: #F8F8F2;" id="a252">(</span><span style="color: #FD971F;" id="a253">path</span><span style="color: #F8F8F2;" id="a254">):</span></div><div class="line" id="a255"><span style="color: #F8F8F2;" id="a256">  </span><span style="color: #F92672;" id="a257">return</span><span style="color: #F8F8F2;" id="a258"> os.path.splitext(path)[</span><span style="color: #AE81FF;" id="a259">1</span><span style="color: #F8F8F2;" id="a260">]</span></div><div class="line" id="a261">&nbsp;</div><div class="line" id="a262"><span style="color: #88846F;" id="a263"># 用 Base64 对给定的 Bytes 进行编码</span></div><div class="line" id="a264"><span style="color: #66D9EF;" id="a265">def</span><span style="color: #F8F8F2;" id="a266"> </span><span style="color: #A6E22E;" id="a267">bytesToBase64</span><span style="color: #F8F8F2;" id="a268">(</span><span style="color: #FD971F;" id="a269">data</span><span style="color: #F8F8F2;" id="a270">):</span></div><div class="line" id="a271"><span style="color: #F8F8F2;" id="a272">    </span><span style="color: #F92672;" id="a273">return</span><span style="color: #F8F8F2;" id="a274"> base64.b64encode(data).decode(</span><span style="color: #E6DB74;" id="a275">'utf-8'</span><span style="color: #F8F8F2;" id="a276">)</span></div><div class="line" id="a277">&nbsp;</div><div class="line" id="a278"><span style="color: #88846F;" id="a279"># 拼接文件名</span></div><div class="line" id="a280"><span style="color: #66D9EF;" id="a281">def</span><span style="color: #F8F8F2;" id="a282"> </span><span style="color: #A6E22E;" id="a283">getFilename</span><span style="color: #F8F8F2;" id="a284">(</span><span style="color: #FD971F;" id="a285">extension</span><span style="color: #F8F8F2;" id="a286">):</span></div><div class="line" id="a287"><span style="color: #F8F8F2;" id="a288">    </span><span style="color: #F92672;" id="a289">return</span><span style="color: #F8F8F2;" id="a290"> time.strftime(</span><span style="color: #E6DB74;" id="a291">"%Y%m</span><span style="color: #AE81FF;" id="a292">%d</span><span style="color: #E6DB74;" id="a293">%H%M%S"</span><span style="color: #F8F8F2;" id="a294">, time.localtime()) </span><span style="color: #F92672;" id="a295">+</span><span style="color: #F8F8F2;" id="a296"> extension</span></div><div class="line" id="a297">&nbsp;</div><div class="line" id="a298"><span style="color: #88846F;" id="a299"># 处理 github 返回的响应</span></div><div class="line" id="a300"><span style="color: #66D9EF;" id="a301">def</span><span style="color: #F8F8F2;" id="a302"> </span><span style="color: #A6E22E;" id="a303">handleResponse</span><span style="color: #F8F8F2;" id="a304">(</span><span style="color: #FD971F;" id="a305">response</span><span style="color: #F8F8F2;" id="a306">, </span><span style="color: #FD971F;" id="a307">filename</span><span style="color: #F8F8F2;" id="a308">, </span><span style="color: #FD971F;" id="a309">extension</span><span style="color: #F8F8F2;" id="a310">):</span></div><div class="line" id="a311"><span style="color: #F8F8F2;" id="a312">    </span><span style="color: #F92672;" id="a313">if</span><span style="color: #F8F8F2;" id="a314"> response.status_code </span><span style="color: #F92672;" id="a315">==</span><span style="color: #F8F8F2;" id="a316"> </span><span style="color: #AE81FF;" id="a317">201</span><span style="color: #F8F8F2;" id="a318">:</span></div><div class="line" id="a319"><span style="color: #F8F8F2;" id="a320">        url </span><span style="color: #F92672;" id="a321">=</span><span style="color: #F8F8F2;" id="a322"> buildUrl(filename, extension)</span></div><div class="line" id="a323"><span style="color: #F8F8F2;" id="a324">        copyToClipboard(url)</span></div><div class="line" id="a325"><span style="color: #F8F8F2;" id="a326">        icon </span><span style="color: #F92672;" id="a327">=</span><span style="color: #F8F8F2;" id="a328"> </span><span style="color: #E6DB74;" id="a329">"✅"</span></div><div class="line" id="a330"><span style="color: #F8F8F2;" id="a331">    </span><span style="color: #F92672;" id="a332">else</span><span style="color: #F8F8F2;" id="a333">:</span></div><div class="line" id="a334"><span style="color: #F8F8F2;" id="a335">        icon </span><span style="color: #F92672;" id="a336">=</span><span style="color: #F8F8F2;" id="a337"> </span><span style="color: #E6DB74;" id="a338">"❌"</span></div><div class="line" id="a339">&nbsp;</div><div class="line" id="a340"><span style="color: #F8F8F2;" id="a341">    </span><span style="color: #F92672;" id="a342">return</span><span style="color: #F8F8F2;" id="a343"> icon </span><span style="color: #F92672;" id="a344">+</span><span style="color: #F8F8F2;" id="a345"> </span><span style="color: #E6DB74;" id="a346">" "</span><span style="color: #F8F8F2;" id="a347"> </span><span style="color: #F92672;" id="a348">+</span><span style="color: #F8F8F2;" id="a349"> response.reason</span></div><div class="line" id="a350">&nbsp;</div><div class="line" id="a351"><span style="color: #88846F;" id="a352"># 处理本地文件</span></div><div class="line" id="a353"><span style="color: #66D9EF;" id="a354">def</span><span style="color: #F8F8F2;" id="a355"> </span><span style="color: #A6E22E;" id="a356">handleLocalFile</span><span style="color: #F8F8F2;" id="a357">(</span><span style="color: #FD971F;" id="a358">path</span><span style="color: #F8F8F2;" id="a359">):</span></div><div class="line" id="a360"><span style="color: #F8F8F2;" id="a361">    </span><span style="color: #F92672;" id="a362">with</span><span style="color: #F8F8F2;" id="a363"> </span><span style="color: #66D9EF;" id="a364">open</span><span style="color: #F8F8F2;" id="a365">(path, </span><span style="color: #E6DB74;" id="a366">'rb'</span><span style="color: #F8F8F2;" id="a367">) </span><span style="color: #F92672;" id="a368">as</span><span style="color: #F8F8F2;" id="a369"> f:</span></div><div class="line" id="a370">&nbsp;</div><div class="line" id="a371"><span style="color: #F8F8F2;" id="a372">        extension </span><span style="color: #F92672;" id="a373">=</span><span style="color: #F8F8F2;" id="a374"> getExtension(path)</span></div><div class="line" id="a375">&nbsp;</div><div class="line" id="a376"><span style="color: #F8F8F2;" id="a377">        base64 </span><span style="color: #F92672;" id="a378">=</span><span style="color: #F8F8F2;" id="a379"> bytesToBase64(f.read())</span></div><div class="line" id="a380">&nbsp;</div><div class="line" id="a381"><span style="color: #F8F8F2;" id="a382">        filename </span><span style="color: #F92672;" id="a383">=</span><span style="color: #F8F8F2;" id="a384"> getFilename(extension)</span></div><div class="line" id="a385">&nbsp;</div><div class="line" id="a386"><span style="color: #F8F8F2;" id="a387">        response </span><span style="color: #F92672;" id="a388">=</span><span style="color: #F8F8F2;" id="a389"> push(base64, filename)</span></div><div class="line" id="a390">&nbsp;</div><div class="line" id="a391"><span style="color: #F8F8F2;" id="a392">        </span><span style="color: #F92672;" id="a393">return</span><span style="color: #F8F8F2;" id="a394"> handleResponse(response, filename, extension)</span></div><div class="line" id="a395">&nbsp;</div><div class="line" id="a396"><span style="color: #88846F;" id="a397"># 处理剪切板的文件，与本地文件不同的是，剪切板的文件好像是在内存中，它并没有一个文件路径(有待研究)</span></div><div class="line" id="a398"><span style="color: #66D9EF;" id="a399">def</span><span style="color: #F8F8F2;" id="a400"> </span><span style="color: #A6E22E;" id="a401">handleClipboard</span><span style="color: #F8F8F2;" id="a402">():</span></div><div class="line" id="a403"><span style="color: #F8F8F2;" id="a404">    image </span><span style="color: #F92672;" id="a405">=</span><span style="color: #F8F8F2;" id="a406"> ImageGrab.grabclipboard()</span></div><div class="line" id="a407">&nbsp;</div><div class="line" id="a408"><span style="color: #F8F8F2;" id="a409">    </span><span style="color: #F92672;" id="a410">if</span><span style="color: #F8F8F2;" id="a411"> </span><span style="color: #66D9EF;" id="a412">isinstance</span><span style="color: #F8F8F2;" id="a413">(image, Image.Image):</span></div><div class="line" id="a414">&nbsp;</div><div class="line" id="a415"><span style="color: #F8F8F2;" id="a416">        buffer </span><span style="color: #F92672;" id="a417">=</span><span style="color: #F8F8F2;" id="a418"> io.BytesIO()</span></div><div class="line" id="a419">&nbsp;</div><div class="line" id="a420"><span style="color: #F8F8F2;" id="a421">        imageFormat </span><span style="color: #F92672;" id="a422">=</span><span style="color: #F8F8F2;" id="a423"> </span><span style="color: #E6DB74;" id="a424">"png"</span></div><div class="line" id="a425">&nbsp;</div><div class="line" id="a426"><span style="color: #F8F8F2;" id="a427">        extension </span><span style="color: #F92672;" id="a428">=</span><span style="color: #F8F8F2;" id="a429"> </span><span style="color: #E6DB74;" id="a430">"."</span><span style="color: #F8F8F2;" id="a431"> </span><span style="color: #F92672;" id="a432">+</span><span style="color: #F8F8F2;" id="a433"> imageFormat</span></div><div class="line" id="a434">&nbsp;</div><div class="line" id="a435"><span style="color: #F8F8F2;" id="a436">        image.save(buffer, imageFormat)</span></div><div class="line" id="a437">&nbsp;</div><div class="line" id="a438"><span style="color: #F8F8F2;" id="a439">        base64 </span><span style="color: #F92672;" id="a440">=</span><span style="color: #F8F8F2;" id="a441"> bytesToBase64(buffer.getvalue())</span></div><div class="line" id="a442">&nbsp;</div><div class="line" id="a443"><span style="color: #F8F8F2;" id="a444">        filename </span><span style="color: #F92672;" id="a445">=</span><span style="color: #F8F8F2;" id="a446"> getFilename(extension)</span></div><div class="line" id="a447">&nbsp;</div><div class="line" id="a448"><span style="color: #F8F8F2;" id="a449">        response </span><span style="color: #F92672;" id="a450">=</span><span style="color: #F8F8F2;" id="a451"> push(base64, filename)</span></div><div class="line" id="a452">&nbsp;</div><div class="line" id="a453"><span style="color: #F8F8F2;" id="a454">        </span><span style="color: #F92672;" id="a455">return</span><span style="color: #F8F8F2;" id="a456"> handleResponse(response, filename, extension)</span></div><div class="line" id="a457"><span style="color: #F8F8F2;" id="a458">    </span><span style="color: #F92672;" id="a459">else</span><span style="color: #F8F8F2;" id="a460">:</span></div><div class="line" id="a461"><span style="color: #F8F8F2;" id="a462">        </span><span style="color: #F92672;" id="a463">return</span><span style="color: #F8F8F2;" id="a464"> </span><span style="color: #E6DB74;" id="a465">"❌ 剪切板的内容不是图片"</span></div><div class="line" id="a466">&nbsp;</div><div class="line" id="a467"><span style="color: #88846F;" id="a468"># 把给定的字符串复制到剪切板</span></div><div class="line" id="a469"><span style="color: #66D9EF;" id="a470">def</span><span style="color: #F8F8F2;" id="a471"> </span><span style="color: #A6E22E;" id="a472">copyToClipboard</span><span style="color: #F8F8F2;" id="a473">(</span><span style="color: #FD971F;" id="a474">data</span><span style="color: #F8F8F2;" id="a475">):</span></div><div class="line" id="a476"><span style="color: #F8F8F2;" id="a477">    p </span><span style="color: #F92672;" id="a478">=</span><span style="color: #F8F8F2;" id="a479"> subprocess.Popen([</span><span style="color: #E6DB74;" id="a480">'pbcopy'</span><span style="color: #F8F8F2;" id="a481">], </span><span style="color: #FD971F;" id="a482">stdin</span><span style="color: #F92672;" id="a483">=</span><span style="color: #F8F8F2;" id="a484">subprocess.</span><span style="color: #AE81FF;" id="a485">PIPE</span><span style="color: #F8F8F2;" id="a486">)</span></div><div class="line" id="a487">&nbsp;</div><div class="line" id="a488"><span style="color: #F8F8F2;" id="a489">    p.stdin.write(data.encode(</span><span style="color: #E6DB74;" id="a490">"utf-8"</span><span style="color: #F8F8F2;" id="a491">))</span></div><div class="line" id="a492">&nbsp;</div><div class="line" id="a493"><span style="color: #F8F8F2;" id="a494">    p.stdin.close()</span></div><div class="line" id="a495">&nbsp;</div><div class="line" id="a496"><span style="color: #F8F8F2;" id="a497">    p.communicate()</span></div><div class="line" id="a498">&nbsp;</div><div class="line" id="a499"><span style="color: #88846F;" id="a500"># 判断是否是图片</span></div><div class="line" id="a501"><span style="color: #66D9EF;" id="a502">def</span><span style="color: #F8F8F2;" id="a503"> </span><span style="color: #A6E22E;" id="a504">isImage</span><span style="color: #F8F8F2;" id="a505">(</span><span style="color: #FD971F;" id="a506">extension</span><span style="color: #F8F8F2;" id="a507">):</span></div><div class="line" id="a508"><span style="color: #F8F8F2;" id="a509">    </span><span style="color: #F92672;" id="a510">return</span><span style="color: #F8F8F2;" id="a511"> extension </span><span style="color: #F92672;" id="a512">in</span><span style="color: #F8F8F2;" id="a513"> [</span><span style="color: #E6DB74;" id="a514">".png"</span><span style="color: #F8F8F2;" id="a515">, </span><span style="color: #E6DB74;" id="a516">".jpeg"</span><span style="color: #F8F8F2;" id="a517">, </span><span style="color: #E6DB74;" id="a518">".gif"</span><span style="color: #F8F8F2;" id="a519">, </span><span style="color: #E6DB74;" id="a520">"jpg"</span><span style="color: #F8F8F2;" id="a521">]</span></div><div class="line" id="a522">&nbsp;</div><div class="line" id="a523"><span style="color: #88846F;" id="a524"># 按照 jsdelivr 的规则构建 url</span></div><div class="line" id="a525"><span style="color: #66D9EF;" id="a526">def</span><span style="color: #F8F8F2;" id="a527"> </span><span style="color: #A6E22E;" id="a528">buildUrl</span><span style="color: #F8F8F2;" id="a529">(</span><span style="color: #FD971F;" id="a530">filename</span><span style="color: #F8F8F2;" id="a531">, </span><span style="color: #FD971F;" id="a532">extension</span><span style="color: #F8F8F2;" id="a533">):</span></div><div class="line" id="a534"><span style="color: #F8F8F2;" id="a535">    url </span><span style="color: #F92672;" id="a536">=</span><span style="color: #F8F8F2;" id="a537"> </span><span style="color: #E6DB74;" id="a538">"https://cdn.jsdelivr.net/gh/[yourGithubName]/[yourRepository]@[theBranch]/"</span><span style="color: #F8F8F2;" id="a539"> </span><span style="color: #F92672;" id="a540">+</span><span style="color: #F8F8F2;" id="a541"> filename</span></div><div class="line" id="a542">&nbsp;</div><div class="line" id="a543"><span style="color: #F8F8F2;" id="a544">    </span><span style="color: #F92672;" id="a545">if</span><span style="color: #F8F8F2;" id="a546"> isImage(extension):</span></div><div class="line" id="a547"><span style="color: #F8F8F2;" id="a548">        url </span><span style="color: #F92672;" id="a549">=</span><span style="color: #F8F8F2;" id="a550"> markdown(url)</span></div><div class="line" id="a551">&nbsp;</div><div class="line" id="a552"><span style="color: #F8F8F2;" id="a553">    </span><span style="color: #F92672;" id="a554">return</span><span style="color: #F8F8F2;" id="a555"> url</span></div><div class="line" id="a556">&nbsp;</div><div class="line" id="a557"><span style="color: #88846F;" id="a558"># 按照 markdown 语法拼接 url</span></div><div class="line" id="a559"><span style="color: #66D9EF;" id="a560">def</span><span style="color: #F8F8F2;" id="a561"> </span><span style="color: #A6E22E;" id="a562">markdown</span><span style="color: #F8F8F2;" id="a563">(</span><span style="color: #FD971F;" id="a564">url</span><span style="color: #F8F8F2;" id="a565">):</span></div><div class="line" id="a566"><span style="color: #F8F8F2;" id="a567">    </span><span style="color: #F92672;" id="a568">return</span><span style="color: #F8F8F2;" id="a569"> </span><span style="color: #E6DB74;" id="a570">") name="</span><span style="color: #F8F8F2;" id="a571"> </span><span style="color: #F92672;" id="a572">+</span><span style="color: #F8F8F2;" id="a573"> url </span><span style="color: #F92672;" id="a574">+</span><span style="color: #F8F8F2;" id="a575"> </span><span style="color: #E6DB74;" id="a576">") url=https://storage.roamnote.com:8000/"</span><span style="color: #F8F8F2;" id="a577"> </span><span style="color: #F92672;" id="a578">+</span><span style="color: #F8F8F2;" id="a579"> url </span><span style="color: #F92672;" id="a580">+</span><span style="color: #F8F8F2;" id="a581"> </span><span style="color: #E6DB74;" id="a582">")&gt;</span></div><div class="line" id="a583">&nbsp;</div><div class="line" id="a584"><span style="color: #F92672;" id="a585">if</span><span style="color: #F8F8F2;" id="a586"> __name__ </span><span style="color: #F92672;" id="a587">==</span><span style="color: #F8F8F2;" id="a588"> </span><span style="color: #E6DB74;" id="a589">'__main__'</span><span style="color: #F8F8F2;" id="a590">:</span></div><div class="line" id="a591"><span style="color: #F8F8F2;" id="a592">    path </span><span style="color: #F92672;" id="a593">=</span><span style="color: #F8F8F2;" id="a594"> getPath()</span></div><div class="line" id="a595">&nbsp;</div><div class="line" id="a596"><span style="color: #F8F8F2;" id="a597">    </span><span style="color: #F92672;" id="a598">if</span><span style="color: #F8F8F2;" id="a599"> path </span><span style="color: #F92672;" id="a600">is</span><span style="color: #F8F8F2;" id="a601"> </span><span style="color: #AE81FF;" id="a602">None</span><span style="color: #F8F8F2;" id="a603">:</span></div><div class="line" id="a604"><span style="color: #F8F8F2;" id="a605">        toast </span><span style="color: #F92672;" id="a606">=</span><span style="color: #F8F8F2;" id="a607"> handleClipboard()</span></div><div class="line" id="a608"><span style="color: #F8F8F2;" id="a609">    </span><span style="color: #F92672;" id="a610">else</span><span style="color: #F8F8F2;" id="a611">:</span></div><div class="line" id="a612"><span style="color: #F8F8F2;" id="a613">        toast </span><span style="color: #F92672;" id="a614">=</span><span style="color: #F8F8F2;" id="a615"> handleLocalFile(path)</span></div><div class="line" id="a616">&nbsp;</div><div class="line" id="a617"><span style="color: #F8F8F2;" id="a618">    </span><span style="color: #66D9EF;" id="a619">print</span><span style="color: #F8F8F2;" id="a620">(toast)</span></div></code></pre></div><h2 class="heading" id="配置项">配置项<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e9%a1%b9" id="a622"></a></h2><p id="a623"><span class="unwrap" id="a624">这个 Python 脚本其中的一些个人信息没有做成可配置的，需要手动改一下，改的时候把<strong id="a625">中括号</strong>去掉。</span></p><ul id="a626"><li id="a627">[yourGithubName]：github 的名字</li><li id="a628">[yourRepository]：存储文件的仓库名</li><li id="a629">[yourToken]：在<a href="https://github.com/settings/tokens/new" class="external-link" target="_blank" id="a630">这里</a>生成的 token，需要具有访问仓库的权限。<ul id="a631"><li id="a632"><img alt="20210430103955.png" src="https://storage.roamnote.com:8000/20210430103955.png" width="1620" style="aspect-ratio: 1620 / 820;" id="a633"></li></ul></li><li id="a634">[yourGithubEmail]：任意一个邮箱，通常填写的是提交人的邮箱。</li><li id="a635">[theBranch]：想要把文件存储到哪个分支，如果没有特殊需求，通常是 master 或者 main。</li></ul><h2 class="heading" id="安装-python-依赖">安装 python 依赖<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%ae%89%e8%a3%85-python-%e4%be%9d%e8%b5%96" id="a637"></a></h2><p id="a638"><span class="unwrap" id="a639">运行<code id="a640">pip3 install pyobjc</code>安装 <a href="https://pypi.org/project/pyobjc/" class="external-link" target="_blank" id="a641">pyobjc</a></span></p><p id="a642"><span class="unwrap" id="a643">运行<code id="a644">pip3 install Pillow</code>安装 <a href="https://pypi.org/project/Pillow/" class="external-link" target="_blank" id="a645">Pillow</a></span></p><ul id="a646"><li id="a647">pyobjc：一个 Python 和 Object-C 之间的桥梁，可以在 Python 中使用 <a href="https://developer.apple.com/documentation/appkit" class="external-link" target="_blank" id="a648">AppKit</a> 提供的功能，例如访问剪切板。</li><li id="a649">Pillow：一个 Python 的图像处理库</li></ul><p id="a650"><span class="unwrap" id="a651">这两个库的功能可能重复了，pyobjc 可能也具备处理图像的功能，但是我没有深入研究。</span></p><h2 class="heading" id="在命令行运行脚本上传文件">在命令行运行脚本上传文件<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%9c%a8%e5%91%bd%e4%bb%a4%e8%a1%8c%e8%bf%90%e8%a1%8c%e8%84%9a%e6%9c%ac%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" id="a653"></a></h2><p id="a654"><span class="unwrap" id="a655">配置好之后，这个脚本就可以使用了。使用截图工具截一张图片，然后在终端里运行<code id="a656">python3 /path-to-file/upload-file.py</code>，如果没出错，终端会返回提示信息。或者也可以在访达中复制一个已经存在的文件，然后运行脚本。</span></p><p id="a657"><span class="unwrap" id="a658">如果文件很大，上传花费的时间可能很久。另外由于 jsdelivr 的限制，好像是超过 20M 的文件，就不可以访问了。关于这一点，暂时没有好办法，只能尽可能的把图片或者文件控制在 20M 之内。</span></p><h2 class="heading" id="搭配-automator-使用">搭配 Automator 使用<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%90%ad%e9%85%8d-automator-%e4%bd%bf%e7%94%a8" id="a660"></a></h2><p id="a661"><span class="unwrap" id="a662">上面的脚本已经可以使用了，但是每次跑命令行依然很麻烦，苹果电脑提供了一个叫做 Automator(自动操作) 的软件，可以借助它来跑脚本。</span></p><h2 class="heading" id="新建快速操作">新建快速操作<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%96%b0%e5%bb%ba%e5%bf%ab%e9%80%9f%e6%93%8d%e4%bd%9c" id="a664"></a></h2><p id="a665"><span class="unwrap" id="a666">打开 Automator，新建一个快速操作：</span></p><p id="a667"><span class="unwrap" id="a668"><img alt="20210430105914.png" src="https://storage.roamnote.com:8000/20210430105914.png" width="1298" style="aspect-ratio: 1298 / 1180;" id="a669"></span></p><h2 class="heading" id="配置开始上传提示">配置开始上传提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%a7%8b%e4%b8%8a%e4%bc%a0%e6%8f%90%e7%a4%ba" id="a671"></a></h2><p id="a672"><span class="unwrap" id="a673">这一步的目的是让 AppleScript 弹出一个提示。</span></p><p id="a674"><span class="unwrap" id="a675">添加一个运行 AppleScript 脚本：</span></p><p id="a676"><span class="unwrap" id="a677"><img alt="20210430110059.png" src="https://storage.roamnote.com:8000/20210430110059.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a678"></span></p><p id="a679"><span class="unwrap" id="a680">在其中写上：</span></p><div class="highlight" id="a681"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a682"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a683"></button><code id="a684"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a685"><span style="color: #F8F8F2;" id="a686">on run {input, parameters}</span></div><div class="line" id="a687"><span style="color: #F8F8F2;" id="a688">    display notification "⬆️ 开始上传"</span></div><div class="line" id="a689"><span style="color: #F8F8F2;" id="a690">    return input</span></div><div class="line" id="a691"><span style="color: #F8F8F2;" id="a692">end run</span></div></code></pre></div><h2 class="heading" id="配置-shell-脚本">配置 shell 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae-shell-%e8%84%9a%e6%9c%ac" id="a694"></a></h2><p id="a695"><span class="unwrap" id="a696">增加一个运行 Shell 脚本(<strong id="a697">注意使用 <code id="a698">bash</code> 来执行脚本</strong>)：</span></p><p id="a699"><span class="unwrap" id="a700"><img alt="20210430110418.png" src="https://storage.roamnote.com:8000/20210430110418.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a701"></span></p><p id="a702"><span class="unwrap" id="a703">在其中写上：</span></p><div class="highlight" id="a704"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a705"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a706"></button><code id="a707"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a708"><span style="color: #F8F8F2;" id="a709">/usr/local/bin/python3 &lt;&lt;EOF</span></div><div class="line" id="a710">&nbsp;</div><div class="line" id="a711"><span style="color: #F8F8F2;" id="a712">把上一步中配置好的 Python 脚本复制到这里</span></div><div class="line" id="a713">&nbsp;</div><div class="line" id="a714"><span style="color: #F8F8F2;" id="a715">EOF</span></div></code></pre></div><p id="a716"><span class="unwrap" id="a717">其中的 <code id="a718">/usr/local/bin/python3 &lt;&lt;EOF</code>和 <code id="a719">EOF</code>写法是一个 Hack，如果直接选择使用 python 执行，会出现找不到 Python 第三方库的情况，所以用了这个 Hack 的办法。</span></p><p id="a720"><span class="unwrap" id="a721"><img alt="20210511132828.png" src="https://storage.roamnote.com:8000/20210511132828.png" width="396" style="aspect-ratio: 396 / 472;" id="a722"></span></p><h2 class="heading" id="配置上传结束提示">配置上传结束提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e4%b8%8a%e4%bc%a0%e7%bb%93%e6%9d%9f%e6%8f%90%e7%a4%ba" id="a724"></a></h2><p id="a725"><span class="unwrap" id="a726">这一步的目的是显示 Python 脚本返回的字符串，方便判断图片是否上传成功。</span></p><p id="a727"><span class="unwrap" id="a728"><img alt="20210430204504.png" src="https://storage.roamnote.com:8000/20210430204504.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a729"></span></p><p id="a730"><span class="unwrap" id="a731">新增一个运行 AppleScript 脚本，在其中写上：</span></p><div class="highlight" id="a732"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a733"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a734"></button><code id="a735"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a736"><span style="color: #F8F8F2;" id="a737">on run {input, parameters}</span></div><div class="line" id="a738"><span style="color: #F8F8F2;" id="a739">  -- 使用消息通知显示 python 输出的字符串</span></div><div class="line" id="a740"><span style="color: #F8F8F2;" id="a741">    display notification input as string</span></div><div class="line" id="a742"><span style="color: #F8F8F2;" id="a743">    return input</span></div><div class="line" id="a744"><span style="color: #F8F8F2;" id="a745">end run</span></div></code></pre></div><p id="a746"><span class="unwrap" id="a747">最后保存文件(默认保存位置是<code id="a748">~/Library/Services</code>)，到此已经配置完成。</span></p><h2 class="heading" id="设置快捷键">设置快捷键<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e8%ae%be%e7%bd%ae%e5%bf%ab%e6%8d%b7%e9%94%ae" id="a750"></a></h2><p id="a751"><span class="unwrap" id="a752">可以在设置中，为刚才创建的服务设置一个快捷键。</span></p><p id="a753"><span class="unwrap" id="a754"><img src="20210430112305.png" alt="image-20210430111422275" id="a755"></span></p></article><aside id="TocAside" data-nosnippet=""><style>@media(min-width:1201px) and (max-width:1500px){main{margin-left:calc(50% - 600px)!important}}</style><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav></aside><div id="BackLinks"><details open=""><summary>Play With Code (1)</summary><a href="/play-with-code/#a23"><img src="data:image/jpeg;base64,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"></a></details></div></main></body></html>