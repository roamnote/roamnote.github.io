<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:"><title>Python 搭配 Automator 上传文件到 Github</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><style>:root{--font-sans:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--font-mono:Consolas, monaco, 'Ubuntu Mono', 'Liberation Mono', 'Courier New', Courier, monospace;--b-1:#4C4E4D;--b-2:#202125;--w-1:#FFFFFF;--w-2:#EFEFEF;--w-3:#707070;--lk-1:#2656C9}header{position:fixed;z-index:2;inset:0;height:40px;padding:0 10px;background-color:var(--w-1);display:flex;justify-content:space-between;gap:10px}header nav *{display:inline-block;height:40px;line-height:40px}header nav{flex-grow:1;display:flex}header nav a{color:var(--b-1);text-decoration:none;position:relative;margin:0 8px}header a:not(:last-child){white-space:nowrap}header nav a:last-child{overflow:hidden}header a:not(:last-child)::after{content:"";position:absolute;right:-12px;top:50%;transform:translateY(-50%)rotate(20deg);width:2px;height:15px;background-color:var(--w-2)}@media(max-width:900px){header nav a:not(:last-child) span{display:none}header nav a:not(:last-child)::before{content:attr(data-short-title)}}header #toolbar{display:flex;align-items:center;gap:10px;margin-right:6px;flex-shrink:0}header #search,header #toc summary{width:24px;height:24px;line-height:24px;border-radius:30px;font-size:12px;background-color:var(--w-2);text-align:center;list-style:none;cursor:pointer;border:none;outline:none;user-select:none}header #search{border:none;outline:none;user-select:none}header #toc summary{list-style:none;cursor:pointer;display:flex;justify-content:center;align-items:center}header #toc summary svg{width:18px;height:18px}header #toc{display:none}@media(max-width:900px){header #toc{display:inline-block}}header #toc summary::-webkit-details-marker{display:none}header #toc #TableOfContents{position:absolute;top:32px;right:-6px;width:100vw;max-width:500px;height:180px;overflow-y:scroll;border-bottom:1px solid var(--highlight);border-radius:0;background-color:#fff;z-index:1}header #toc #TableOfContents ul{padding-left:36px;padding-right:16px;margin:0}</style><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{hideAnchorFocus(),moveBreadCrumb(),collapseToc(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body style=""><header><nav><a href="/" title="漫游笔记" data-short-title="🏠"><span>🏠 漫游笔记</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" title="Python 搭配 Automator 上传文件到 Github" data-short-title="Pyth" id="lastBreadCrumb" style="left: 0px;"><span title="Python 搭配 Automator 上传文件到 Github">Python 搭配 Automator 上传文件到 Github</span></a></nav><div id="toolbar"><details id="toc"><summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></summary><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav></details><button id="search">🔍</button></div></header><div id="searchBox" data-nosnippet=""><input id="searchInput" tabindex="0" autocomplete="off" placeholder="搜索"><div id="searchBoxToolBar"></div><div id="searchResults" class="no-hover"></div></div><picture data-nosnippet=""><source srcset="https://storage.roamnote.com:8000/hero-w4000.jpg,
https://storage.roamnote.com:8000/hero-w8000.jpg 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.jpg,
https://storage.roamnote.com:8000/hero-w4000.jpg 2x" media="(min-width: 750px)"><source srcset="https://storage.roamnote.com:8000/hero-w1000.jpg,
https://storage.roamnote.com:8000/hero-w2000.jpg 2x" media="(min-width: 390px)"><source srcset="https://storage.roamnote.com:8000/hero-w4000.avif,
https://storage.roamnote.com:8000/hero-w8000.avif 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.avif,
https://storage.roamnote.com:8000/hero-w4000.avif 2x" media="(min-width: 750px)"><img srcset="https://storage.roamnote.com:8000/hero-w1000.avif,
https://storage.roamnote.com:8000/hero-w2000.avif 2x" id="heroImage" alt="漫游笔记" width="1920" style="aspect-ratio:1920/441"></picture><div class="container"><main><h1>Python 搭配 Automator 上传文件到 Github</h1><article pageurl="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" pagetitle="Python 搭配 Automator 上传文件到 Github"><time id="lastmod" data-icon="✍️">2024年01年22日</time><nav id="TableOfContents"><ul id="a2"><li id="a3"><a href="#效果" id="a4">效果</a></li><li id="a5"><a href="#python-脚本" id="a6">Python 脚本</a></li><li id="a7"><a href="#配置项" id="a8">配置项</a></li><li id="a9"><a href="#安装-python-依赖" id="a10">安装 python 依赖</a></li><li id="a11"><a href="#在命令行运行脚本上传文件" id="a12">在命令行运行脚本上传文件</a></li><li id="a13"><a href="#搭配-automator-使用" id="a14">搭配 Automator 使用</a></li><li id="a15"><a href="#新建快速操作" id="a16">新建快速操作</a></li><li id="a17"><a href="#配置开始上传提示" id="a18">配置开始上传提示</a></li><li id="a19"><a href="#配置-shell-脚本" id="a20">配置 shell 脚本</a></li><li id="a21"><a href="#配置上传结束提示" id="a22">配置上传结束提示</a></li><li id="a23"><a href="#设置快捷键" id="a24">设置快捷键</a></li></ul></nav><p id="a26"><span class="unwrap" id="a27">自从写博客以来，一直有上传图片的需求，一开始用第三方图床，例如微博等等，其缺点是图片不属于自己，某一天可能就无法访问了。后来也折腾过腾讯、阿里的对象存储。直到后来发现可以把文件存在 github 上，再配合 jsdelivr 的 CDN，在国内访问速度也挺快。</span></p><p id="a28"><span class="unwrap" id="a29">至于上传图片的工具，用过 <a href="https://apps.apple.com/cn/app/ipic-markdown-%E5%9B%BE%E5%BA%8A%E5%B7%A5%E5%85%B7/id1101244278?mt=12" class="external-link" target="_blank" id="a30">iPic</a>、<a href="https://github.com/gee1k/uPic" class="external-link" target="_blank" id="a31">uPic</a>、<a href="https://molunerfinn.com/PicGo/" class="external-link" target="_blank" id="a32">picGo</a>，其中 iPic 是付费的，他们的好处是支持不同的图床、配置方便、不需要折腾。</span></p><p id="a33"><span class="unwrap" id="a34">本着断舍离的原则，我写了一个 Python 脚本，配合系统自带的 Automator ，实现了把文件夹里的<strong id="a35">文件</strong>（含图片）、微信群里的图片或者剪切板的图片上传到 github，如果开了"接力"功能，也可以上传在手机里复制图片。</span></p><h1 class="heading" id="效果">效果<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%95%88%e6%9e%9c" id="a37"></a></h1><p id="a38"><span class="unwrap" id="a39"><img alt="20220916010307.gif" src="https://storage.roamnote.com:8000/20220916010307.gif" width="900" style="aspect-ratio: 900 / 563;" id="a40"></span></p><h1 class="heading" id="python-脚本">Python 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#python-%e8%84%9a%e6%9c%ac" id="a42"></a></h1><p id="a43"><span class="unwrap" id="a44">在电脑上新建一个 Python 文件，例如<code id="a45">upload-file.py</code>，把下面的内容复制进去。</span></p><div class="highlight" id="a46"><pre tabindex="0" style="overflow: hidden;" class="torchlight" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a47"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a48"></button><code class="language-python" data-lang="python" id="a49"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a50"><span style="color: #F92672;" id="a51">import</span><span style="color: #F8F8F2;" id="a52"> io</span></div><div class="line" id="a53"><span style="color: #F92672;" id="a54">import</span><span style="color: #F8F8F2;" id="a55"> os</span></div><div class="line" id="a56"><span style="color: #F92672;" id="a57">import</span><span style="color: #F8F8F2;" id="a58"> re</span></div><div class="line" id="a59"><span style="color: #F92672;" id="a60">import</span><span style="color: #F8F8F2;" id="a61"> json</span></div><div class="line" id="a62"><span style="color: #F92672;" id="a63">import</span><span style="color: #F8F8F2;" id="a64"> time</span></div><div class="line" id="a65"><span style="color: #F92672;" id="a66">import</span><span style="color: #F8F8F2;" id="a67"> base64</span></div><div class="line" id="a68"><span style="color: #F92672;" id="a69">import</span><span style="color: #F8F8F2;" id="a70"> requests</span></div><div class="line" id="a71"><span style="color: #F92672;" id="a72">import</span><span style="color: #F8F8F2;" id="a73"> subprocess</span></div><div class="line" id="a74">&nbsp;</div><div class="line" id="a75"><span style="color: #F92672;" id="a76">from</span><span style="color: #F8F8F2;" id="a77"> urllib </span><span style="color: #F92672;" id="a78">import</span><span style="color: #F8F8F2;" id="a79"> parse</span></div><div class="line" id="a80"><span style="color: #88846F;" id="a81"># Pillow</span></div><div class="line" id="a82"><span style="color: #F92672;" id="a83">from</span><span style="color: #F8F8F2;" id="a84"> </span><span style="color: #AE81FF;" id="a85">PIL</span><span style="color: #F8F8F2;" id="a86"> </span><span style="color: #F92672;" id="a87">import</span><span style="color: #F8F8F2;" id="a88"> Image, ImageGrab</span></div><div class="line" id="a89"><span style="color: #88846F;" id="a90"># PyObjC</span></div><div class="line" id="a91"><span style="color: #F92672;" id="a92">from</span><span style="color: #F8F8F2;" id="a93"> AppKit </span><span style="color: #F92672;" id="a94">import</span><span style="color: #F8F8F2;" id="a95"> NSPasteboard, NSURLPboardType</span></div><div class="line" id="a96">&nbsp;</div><div class="line" id="a97"><span style="color: #88846F;" id="a98"># 从剪切板获取完整的文件路径</span></div><div class="line" id="a99"><span style="color: #66D9EF;" id="a100">def</span><span style="color: #F8F8F2;" id="a101"> </span><span style="color: #A6E22E;" id="a102">getPath</span><span style="color: #F8F8F2;" id="a103">():</span></div><div class="line" id="a104"><span style="color: #F8F8F2;" id="a105">    </span><span style="color: #88846F;" id="a106"># https://developer.apple.com/documentation/appkit/nspasteboard/pasteboardtype</span></div><div class="line" id="a107"><span style="color: #F8F8F2;" id="a108">    pb </span><span style="color: #F92672;" id="a109">=</span><span style="color: #F8F8F2;" id="a110"> NSPasteboard.generalPasteboard()</span></div><div class="line" id="a111">&nbsp;</div><div class="line" id="a112"><span style="color: #F8F8F2;" id="a113">    url </span><span style="color: #F92672;" id="a114">=</span><span style="color: #F8F8F2;" id="a115"> pb.stringForType_(NSURLPboardType)</span></div><div class="line" id="a116">&nbsp;</div><div class="line" id="a117"><span style="color: #F8F8F2;" id="a118">    </span><span style="color: #F92672;" id="a119">if</span><span style="color: #F8F8F2;" id="a120"> url </span><span style="color: #F92672;" id="a121">is</span><span style="color: #F8F8F2;" id="a122"> </span><span style="color: #AE81FF;" id="a123">None</span><span style="color: #F8F8F2;" id="a124">:</span></div><div class="line" id="a125"><span style="color: #F8F8F2;" id="a126">        </span><span style="color: #F92672;" id="a127">return</span><span style="color: #F8F8F2;" id="a128"> </span><span style="color: #AE81FF;" id="a129">None</span></div><div class="line" id="a130"><span style="color: #F8F8F2;" id="a131">    </span><span style="color: #F92672;" id="a132">else</span><span style="color: #F8F8F2;" id="a133">:</span></div><div class="line" id="a134"><span style="color: #F8F8F2;" id="a135">        plistBytes </span><span style="color: #F92672;" id="a136">=</span><span style="color: #F8F8F2;" id="a137"> url.encode(</span><span style="color: #E6DB74;" id="a138">"utf-8"</span><span style="color: #F8F8F2;" id="a139">)</span></div><div class="line" id="a140"><span style="color: #F8F8F2;" id="a141">        pathByte </span><span style="color: #F92672;" id="a142">=</span><span style="color: #F8F8F2;" id="a143"> re.findall(</span><span style="color: #66D9EF;" id="a144">rb</span><span style="color: #E6DB74;" id="a145">'&lt;string&gt;file://(.</span><span style="color: #F92672;" id="a146">+?</span><span style="color: #E6DB74;" id="a147">)&lt;/string&gt;'</span><span style="color: #F8F8F2;" id="a148">, plistBytes)[</span><span style="color: #AE81FF;" id="a149">0</span><span style="color: #F8F8F2;" id="a150">]</span></div><div class="line" id="a151"><span style="color: #F8F8F2;" id="a152">        pathUTF8 </span><span style="color: #F92672;" id="a153">=</span><span style="color: #F8F8F2;" id="a154"> pathByte.decode(</span><span style="color: #E6DB74;" id="a155">'utf-8'</span><span style="color: #F8F8F2;" id="a156">)</span></div><div class="line" id="a157"><span style="color: #F8F8F2;" id="a158">        </span><span style="color: #F92672;" id="a159">return</span><span style="color: #F8F8F2;" id="a160"> parse.unquote(pathUTF8)</span></div><div class="line" id="a161">&nbsp;</div><div class="line" id="a162"><span style="color: #88846F;" id="a163"># 把数据推送到 github</span></div><div class="line" id="a164"><span style="color: #66D9EF;" id="a165">def</span><span style="color: #F8F8F2;" id="a166"> </span><span style="color: #A6E22E;" id="a167">push</span><span style="color: #F8F8F2;" id="a168">(</span><span style="color: #FD971F;" id="a169">base64</span><span style="color: #F8F8F2;" id="a170">, </span><span style="color: #FD971F;" id="a171">filename</span><span style="color: #F8F8F2;" id="a172">):</span></div><div class="line" id="a173"><span style="color: #F8F8F2;" id="a174">    url </span><span style="color: #F92672;" id="a175">=</span><span style="color: #F8F8F2;" id="a176"> </span><span style="color: #E6DB74;" id="a177">"https://api.github.com/repos/[yourGithubName]/[yourRepository]/contents/"</span><span style="color: #F8F8F2;" id="a178"> </span><span style="color: #F92672;" id="a179">+</span><span style="color: #F8F8F2;" id="a180"> filename</span></div><div class="line" id="a181">&nbsp;</div><div class="line" id="a182"><span style="color: #F8F8F2;" id="a183">    headers </span><span style="color: #F92672;" id="a184">=</span><span style="color: #F8F8F2;" id="a185"> {</span><span style="color: #E6DB74;" id="a186">"Authorization"</span><span style="color: #F8F8F2;" id="a187">: </span><span style="color: #E6DB74;" id="a188">"token [yourToken]"</span><span style="color: #F8F8F2;" id="a189">}</span></div><div class="line" id="a190">&nbsp;</div><div class="line" id="a191"><span style="color: #F8F8F2;" id="a192">    data </span><span style="color: #F92672;" id="a193">=</span><span style="color: #F8F8F2;" id="a194"> json.dumps({</span></div><div class="line" id="a195"><span style="color: #F8F8F2;" id="a196">        </span><span style="color: #E6DB74;" id="a197">"message"</span><span style="color: #F8F8F2;" id="a198">: </span><span style="color: #E6DB74;" id="a199">"auto commit"</span><span style="color: #F8F8F2;" id="a200">,</span></div><div class="line" id="a201"><span style="color: #F8F8F2;" id="a202">        </span><span style="color: #E6DB74;" id="a203">"committer"</span><span style="color: #F8F8F2;" id="a204">: {</span></div><div class="line" id="a205"><span style="color: #F8F8F2;" id="a206">            </span><span style="color: #E6DB74;" id="a207">"name"</span><span style="color: #F8F8F2;" id="a208">: </span><span style="color: #E6DB74;" id="a209">"[yourName]"</span><span style="color: #F8F8F2;" id="a210">,</span></div><div class="line" id="a211"><span style="color: #F8F8F2;" id="a212">            </span><span style="color: #E6DB74;" id="a213">"email"</span><span style="color: #F8F8F2;" id="a214">: </span><span style="color: #E6DB74;" id="a215">"[yourEmail]"</span></div><div class="line" id="a216"><span style="color: #F8F8F2;" id="a217">        },</span></div><div class="line" id="a218"><span style="color: #F8F8F2;" id="a219">        </span><span style="color: #E6DB74;" id="a220">"content"</span><span style="color: #F8F8F2;" id="a221">: base64</span></div><div class="line" id="a222"><span style="color: #F8F8F2;" id="a223">    })</span></div><div class="line" id="a224">&nbsp;</div><div class="line" id="a225"><span style="color: #F8F8F2;" id="a226">    response </span><span style="color: #F92672;" id="a227">=</span><span style="color: #F8F8F2;" id="a228"> requests.put(</span><span style="color: #FD971F;" id="a229">url</span><span style="color: #F92672;" id="a230">=</span><span style="color: #F8F8F2;" id="a231">url, </span><span style="color: #FD971F;" id="a232">data</span><span style="color: #F92672;" id="a233">=</span><span style="color: #F8F8F2;" id="a234">data, </span><span style="color: #FD971F;" id="a235">headers</span><span style="color: #F92672;" id="a236">=</span><span style="color: #F8F8F2;" id="a237">headers)</span></div><div class="line" id="a238">&nbsp;</div><div class="line" id="a239"><span style="color: #F8F8F2;" id="a240">    </span><span style="color: #F92672;" id="a241">return</span><span style="color: #F8F8F2;" id="a242"> response</span></div><div class="line" id="a243">&nbsp;</div><div class="line" id="a244"><span style="color: #88846F;" id="a245"># 从文件路径得到文件后缀</span></div><div class="line" id="a246"><span style="color: #66D9EF;" id="a247">def</span><span style="color: #F8F8F2;" id="a248"> </span><span style="color: #A6E22E;" id="a249">getExtension</span><span style="color: #F8F8F2;" id="a250">(</span><span style="color: #FD971F;" id="a251">path</span><span style="color: #F8F8F2;" id="a252">):</span></div><div class="line" id="a253"><span style="color: #F8F8F2;" id="a254">  </span><span style="color: #F92672;" id="a255">return</span><span style="color: #F8F8F2;" id="a256"> os.path.splitext(path)[</span><span style="color: #AE81FF;" id="a257">1</span><span style="color: #F8F8F2;" id="a258">]</span></div><div class="line" id="a259">&nbsp;</div><div class="line" id="a260"><span style="color: #88846F;" id="a261"># 用 Base64 对给定的 Bytes 进行编码</span></div><div class="line" id="a262"><span style="color: #66D9EF;" id="a263">def</span><span style="color: #F8F8F2;" id="a264"> </span><span style="color: #A6E22E;" id="a265">bytesToBase64</span><span style="color: #F8F8F2;" id="a266">(</span><span style="color: #FD971F;" id="a267">data</span><span style="color: #F8F8F2;" id="a268">):</span></div><div class="line" id="a269"><span style="color: #F8F8F2;" id="a270">    </span><span style="color: #F92672;" id="a271">return</span><span style="color: #F8F8F2;" id="a272"> base64.b64encode(data).decode(</span><span style="color: #E6DB74;" id="a273">'utf-8'</span><span style="color: #F8F8F2;" id="a274">)</span></div><div class="line" id="a275">&nbsp;</div><div class="line" id="a276"><span style="color: #88846F;" id="a277"># 拼接文件名</span></div><div class="line" id="a278"><span style="color: #66D9EF;" id="a279">def</span><span style="color: #F8F8F2;" id="a280"> </span><span style="color: #A6E22E;" id="a281">getFilename</span><span style="color: #F8F8F2;" id="a282">(</span><span style="color: #FD971F;" id="a283">extension</span><span style="color: #F8F8F2;" id="a284">):</span></div><div class="line" id="a285"><span style="color: #F8F8F2;" id="a286">    </span><span style="color: #F92672;" id="a287">return</span><span style="color: #F8F8F2;" id="a288"> time.strftime(</span><span style="color: #E6DB74;" id="a289">"%Y%m</span><span style="color: #AE81FF;" id="a290">%d</span><span style="color: #E6DB74;" id="a291">%H%M%S"</span><span style="color: #F8F8F2;" id="a292">, time.localtime()) </span><span style="color: #F92672;" id="a293">+</span><span style="color: #F8F8F2;" id="a294"> extension</span></div><div class="line" id="a295">&nbsp;</div><div class="line" id="a296"><span style="color: #88846F;" id="a297"># 处理 github 返回的响应</span></div><div class="line" id="a298"><span style="color: #66D9EF;" id="a299">def</span><span style="color: #F8F8F2;" id="a300"> </span><span style="color: #A6E22E;" id="a301">handleResponse</span><span style="color: #F8F8F2;" id="a302">(</span><span style="color: #FD971F;" id="a303">response</span><span style="color: #F8F8F2;" id="a304">, </span><span style="color: #FD971F;" id="a305">filename</span><span style="color: #F8F8F2;" id="a306">, </span><span style="color: #FD971F;" id="a307">extension</span><span style="color: #F8F8F2;" id="a308">):</span></div><div class="line" id="a309"><span style="color: #F8F8F2;" id="a310">    </span><span style="color: #F92672;" id="a311">if</span><span style="color: #F8F8F2;" id="a312"> response.status_code </span><span style="color: #F92672;" id="a313">==</span><span style="color: #F8F8F2;" id="a314"> </span><span style="color: #AE81FF;" id="a315">201</span><span style="color: #F8F8F2;" id="a316">:</span></div><div class="line" id="a317"><span style="color: #F8F8F2;" id="a318">        url </span><span style="color: #F92672;" id="a319">=</span><span style="color: #F8F8F2;" id="a320"> buildUrl(filename, extension)</span></div><div class="line" id="a321"><span style="color: #F8F8F2;" id="a322">        copyToClipboard(url)</span></div><div class="line" id="a323"><span style="color: #F8F8F2;" id="a324">        icon </span><span style="color: #F92672;" id="a325">=</span><span style="color: #F8F8F2;" id="a326"> </span><span style="color: #E6DB74;" id="a327">"✅"</span></div><div class="line" id="a328"><span style="color: #F8F8F2;" id="a329">    </span><span style="color: #F92672;" id="a330">else</span><span style="color: #F8F8F2;" id="a331">:</span></div><div class="line" id="a332"><span style="color: #F8F8F2;" id="a333">        icon </span><span style="color: #F92672;" id="a334">=</span><span style="color: #F8F8F2;" id="a335"> </span><span style="color: #E6DB74;" id="a336">"❌"</span></div><div class="line" id="a337">&nbsp;</div><div class="line" id="a338"><span style="color: #F8F8F2;" id="a339">    </span><span style="color: #F92672;" id="a340">return</span><span style="color: #F8F8F2;" id="a341"> icon </span><span style="color: #F92672;" id="a342">+</span><span style="color: #F8F8F2;" id="a343"> </span><span style="color: #E6DB74;" id="a344">" "</span><span style="color: #F8F8F2;" id="a345"> </span><span style="color: #F92672;" id="a346">+</span><span style="color: #F8F8F2;" id="a347"> response.reason</span></div><div class="line" id="a348">&nbsp;</div><div class="line" id="a349"><span style="color: #88846F;" id="a350"># 处理本地文件</span></div><div class="line" id="a351"><span style="color: #66D9EF;" id="a352">def</span><span style="color: #F8F8F2;" id="a353"> </span><span style="color: #A6E22E;" id="a354">handleLocalFile</span><span style="color: #F8F8F2;" id="a355">(</span><span style="color: #FD971F;" id="a356">path</span><span style="color: #F8F8F2;" id="a357">):</span></div><div class="line" id="a358"><span style="color: #F8F8F2;" id="a359">    </span><span style="color: #F92672;" id="a360">with</span><span style="color: #F8F8F2;" id="a361"> </span><span style="color: #66D9EF;" id="a362">open</span><span style="color: #F8F8F2;" id="a363">(path, </span><span style="color: #E6DB74;" id="a364">'rb'</span><span style="color: #F8F8F2;" id="a365">) </span><span style="color: #F92672;" id="a366">as</span><span style="color: #F8F8F2;" id="a367"> f:</span></div><div class="line" id="a368">&nbsp;</div><div class="line" id="a369"><span style="color: #F8F8F2;" id="a370">        extension </span><span style="color: #F92672;" id="a371">=</span><span style="color: #F8F8F2;" id="a372"> getExtension(path)</span></div><div class="line" id="a373">&nbsp;</div><div class="line" id="a374"><span style="color: #F8F8F2;" id="a375">        base64 </span><span style="color: #F92672;" id="a376">=</span><span style="color: #F8F8F2;" id="a377"> bytesToBase64(f.read())</span></div><div class="line" id="a378">&nbsp;</div><div class="line" id="a379"><span style="color: #F8F8F2;" id="a380">        filename </span><span style="color: #F92672;" id="a381">=</span><span style="color: #F8F8F2;" id="a382"> getFilename(extension)</span></div><div class="line" id="a383">&nbsp;</div><div class="line" id="a384"><span style="color: #F8F8F2;" id="a385">        response </span><span style="color: #F92672;" id="a386">=</span><span style="color: #F8F8F2;" id="a387"> push(base64, filename)</span></div><div class="line" id="a388">&nbsp;</div><div class="line" id="a389"><span style="color: #F8F8F2;" id="a390">        </span><span style="color: #F92672;" id="a391">return</span><span style="color: #F8F8F2;" id="a392"> handleResponse(response, filename, extension)</span></div><div class="line" id="a393">&nbsp;</div><div class="line" id="a394"><span style="color: #88846F;" id="a395"># 处理剪切板的文件，与本地文件不同的是，剪切板的文件好像是在内存中，它并没有一个文件路径(有待研究)</span></div><div class="line" id="a396"><span style="color: #66D9EF;" id="a397">def</span><span style="color: #F8F8F2;" id="a398"> </span><span style="color: #A6E22E;" id="a399">handleClipboard</span><span style="color: #F8F8F2;" id="a400">():</span></div><div class="line" id="a401"><span style="color: #F8F8F2;" id="a402">    image </span><span style="color: #F92672;" id="a403">=</span><span style="color: #F8F8F2;" id="a404"> ImageGrab.grabclipboard()</span></div><div class="line" id="a405">&nbsp;</div><div class="line" id="a406"><span style="color: #F8F8F2;" id="a407">    </span><span style="color: #F92672;" id="a408">if</span><span style="color: #F8F8F2;" id="a409"> </span><span style="color: #66D9EF;" id="a410">isinstance</span><span style="color: #F8F8F2;" id="a411">(image, Image.Image):</span></div><div class="line" id="a412">&nbsp;</div><div class="line" id="a413"><span style="color: #F8F8F2;" id="a414">        buffer </span><span style="color: #F92672;" id="a415">=</span><span style="color: #F8F8F2;" id="a416"> io.BytesIO()</span></div><div class="line" id="a417">&nbsp;</div><div class="line" id="a418"><span style="color: #F8F8F2;" id="a419">        imageFormat </span><span style="color: #F92672;" id="a420">=</span><span style="color: #F8F8F2;" id="a421"> </span><span style="color: #E6DB74;" id="a422">"png"</span></div><div class="line" id="a423">&nbsp;</div><div class="line" id="a424"><span style="color: #F8F8F2;" id="a425">        extension </span><span style="color: #F92672;" id="a426">=</span><span style="color: #F8F8F2;" id="a427"> </span><span style="color: #E6DB74;" id="a428">"."</span><span style="color: #F8F8F2;" id="a429"> </span><span style="color: #F92672;" id="a430">+</span><span style="color: #F8F8F2;" id="a431"> imageFormat</span></div><div class="line" id="a432">&nbsp;</div><div class="line" id="a433"><span style="color: #F8F8F2;" id="a434">        image.save(buffer, imageFormat)</span></div><div class="line" id="a435">&nbsp;</div><div class="line" id="a436"><span style="color: #F8F8F2;" id="a437">        base64 </span><span style="color: #F92672;" id="a438">=</span><span style="color: #F8F8F2;" id="a439"> bytesToBase64(buffer.getvalue())</span></div><div class="line" id="a440">&nbsp;</div><div class="line" id="a441"><span style="color: #F8F8F2;" id="a442">        filename </span><span style="color: #F92672;" id="a443">=</span><span style="color: #F8F8F2;" id="a444"> getFilename(extension)</span></div><div class="line" id="a445">&nbsp;</div><div class="line" id="a446"><span style="color: #F8F8F2;" id="a447">        response </span><span style="color: #F92672;" id="a448">=</span><span style="color: #F8F8F2;" id="a449"> push(base64, filename)</span></div><div class="line" id="a450">&nbsp;</div><div class="line" id="a451"><span style="color: #F8F8F2;" id="a452">        </span><span style="color: #F92672;" id="a453">return</span><span style="color: #F8F8F2;" id="a454"> handleResponse(response, filename, extension)</span></div><div class="line" id="a455"><span style="color: #F8F8F2;" id="a456">    </span><span style="color: #F92672;" id="a457">else</span><span style="color: #F8F8F2;" id="a458">:</span></div><div class="line" id="a459"><span style="color: #F8F8F2;" id="a460">        </span><span style="color: #F92672;" id="a461">return</span><span style="color: #F8F8F2;" id="a462"> </span><span style="color: #E6DB74;" id="a463">"❌ 剪切板的内容不是图片"</span></div><div class="line" id="a464">&nbsp;</div><div class="line" id="a465"><span style="color: #88846F;" id="a466"># 把给定的字符串复制到剪切板</span></div><div class="line" id="a467"><span style="color: #66D9EF;" id="a468">def</span><span style="color: #F8F8F2;" id="a469"> </span><span style="color: #A6E22E;" id="a470">copyToClipboard</span><span style="color: #F8F8F2;" id="a471">(</span><span style="color: #FD971F;" id="a472">data</span><span style="color: #F8F8F2;" id="a473">):</span></div><div class="line" id="a474"><span style="color: #F8F8F2;" id="a475">    p </span><span style="color: #F92672;" id="a476">=</span><span style="color: #F8F8F2;" id="a477"> subprocess.Popen([</span><span style="color: #E6DB74;" id="a478">'pbcopy'</span><span style="color: #F8F8F2;" id="a479">], </span><span style="color: #FD971F;" id="a480">stdin</span><span style="color: #F92672;" id="a481">=</span><span style="color: #F8F8F2;" id="a482">subprocess.</span><span style="color: #AE81FF;" id="a483">PIPE</span><span style="color: #F8F8F2;" id="a484">)</span></div><div class="line" id="a485">&nbsp;</div><div class="line" id="a486"><span style="color: #F8F8F2;" id="a487">    p.stdin.write(data.encode(</span><span style="color: #E6DB74;" id="a488">"utf-8"</span><span style="color: #F8F8F2;" id="a489">))</span></div><div class="line" id="a490">&nbsp;</div><div class="line" id="a491"><span style="color: #F8F8F2;" id="a492">    p.stdin.close()</span></div><div class="line" id="a493">&nbsp;</div><div class="line" id="a494"><span style="color: #F8F8F2;" id="a495">    p.communicate()</span></div><div class="line" id="a496">&nbsp;</div><div class="line" id="a497"><span style="color: #88846F;" id="a498"># 判断是否是图片</span></div><div class="line" id="a499"><span style="color: #66D9EF;" id="a500">def</span><span style="color: #F8F8F2;" id="a501"> </span><span style="color: #A6E22E;" id="a502">isImage</span><span style="color: #F8F8F2;" id="a503">(</span><span style="color: #FD971F;" id="a504">extension</span><span style="color: #F8F8F2;" id="a505">):</span></div><div class="line" id="a506"><span style="color: #F8F8F2;" id="a507">    </span><span style="color: #F92672;" id="a508">return</span><span style="color: #F8F8F2;" id="a509"> extension </span><span style="color: #F92672;" id="a510">in</span><span style="color: #F8F8F2;" id="a511"> [</span><span style="color: #E6DB74;" id="a512">".png"</span><span style="color: #F8F8F2;" id="a513">, </span><span style="color: #E6DB74;" id="a514">".jpeg"</span><span style="color: #F8F8F2;" id="a515">, </span><span style="color: #E6DB74;" id="a516">".gif"</span><span style="color: #F8F8F2;" id="a517">, </span><span style="color: #E6DB74;" id="a518">"jpg"</span><span style="color: #F8F8F2;" id="a519">]</span></div><div class="line" id="a520">&nbsp;</div><div class="line" id="a521"><span style="color: #88846F;" id="a522"># 按照 jsdelivr 的规则构建 url</span></div><div class="line" id="a523"><span style="color: #66D9EF;" id="a524">def</span><span style="color: #F8F8F2;" id="a525"> </span><span style="color: #A6E22E;" id="a526">buildUrl</span><span style="color: #F8F8F2;" id="a527">(</span><span style="color: #FD971F;" id="a528">filename</span><span style="color: #F8F8F2;" id="a529">, </span><span style="color: #FD971F;" id="a530">extension</span><span style="color: #F8F8F2;" id="a531">):</span></div><div class="line" id="a532"><span style="color: #F8F8F2;" id="a533">    url </span><span style="color: #F92672;" id="a534">=</span><span style="color: #F8F8F2;" id="a535"> </span><span style="color: #E6DB74;" id="a536">"https://cdn.jsdelivr.net/gh/[yourGithubName]/[yourRepository]@[theBranch]/"</span><span style="color: #F8F8F2;" id="a537"> </span><span style="color: #F92672;" id="a538">+</span><span style="color: #F8F8F2;" id="a539"> filename</span></div><div class="line" id="a540">&nbsp;</div><div class="line" id="a541"><span style="color: #F8F8F2;" id="a542">    </span><span style="color: #F92672;" id="a543">if</span><span style="color: #F8F8F2;" id="a544"> isImage(extension):</span></div><div class="line" id="a545"><span style="color: #F8F8F2;" id="a546">        url </span><span style="color: #F92672;" id="a547">=</span><span style="color: #F8F8F2;" id="a548"> markdown(url)</span></div><div class="line" id="a549">&nbsp;</div><div class="line" id="a550"><span style="color: #F8F8F2;" id="a551">    </span><span style="color: #F92672;" id="a552">return</span><span style="color: #F8F8F2;" id="a553"> url</span></div><div class="line" id="a554">&nbsp;</div><div class="line" id="a555"><span style="color: #88846F;" id="a556"># 按照 markdown 语法拼接 url</span></div><div class="line" id="a557"><span style="color: #66D9EF;" id="a558">def</span><span style="color: #F8F8F2;" id="a559"> </span><span style="color: #A6E22E;" id="a560">markdown</span><span style="color: #F8F8F2;" id="a561">(</span><span style="color: #FD971F;" id="a562">url</span><span style="color: #F8F8F2;" id="a563">):</span></div><div class="line" id="a564"><span style="color: #F8F8F2;" id="a565">    </span><span style="color: #F92672;" id="a566">return</span><span style="color: #F8F8F2;" id="a567"> </span><span style="color: #E6DB74;" id="a568">") name="</span><span style="color: #F8F8F2;" id="a569"> </span><span style="color: #F92672;" id="a570">+</span><span style="color: #F8F8F2;" id="a571"> url </span><span style="color: #F92672;" id="a572">+</span><span style="color: #F8F8F2;" id="a573"> </span><span style="color: #E6DB74;" id="a574">") url=https://storage.roamnote.com:8000/"</span><span style="color: #F8F8F2;" id="a575"> </span><span style="color: #F92672;" id="a576">+</span><span style="color: #F8F8F2;" id="a577"> url </span><span style="color: #F92672;" id="a578">+</span><span style="color: #F8F8F2;" id="a579"> </span><span style="color: #E6DB74;" id="a580">")&gt;</span></div><div class="line" id="a581">&nbsp;</div><div class="line" id="a582"><span style="color: #F92672;" id="a583">if</span><span style="color: #F8F8F2;" id="a584"> __name__ </span><span style="color: #F92672;" id="a585">==</span><span style="color: #F8F8F2;" id="a586"> </span><span style="color: #E6DB74;" id="a587">'__main__'</span><span style="color: #F8F8F2;" id="a588">:</span></div><div class="line" id="a589"><span style="color: #F8F8F2;" id="a590">    path </span><span style="color: #F92672;" id="a591">=</span><span style="color: #F8F8F2;" id="a592"> getPath()</span></div><div class="line" id="a593">&nbsp;</div><div class="line" id="a594"><span style="color: #F8F8F2;" id="a595">    </span><span style="color: #F92672;" id="a596">if</span><span style="color: #F8F8F2;" id="a597"> path </span><span style="color: #F92672;" id="a598">is</span><span style="color: #F8F8F2;" id="a599"> </span><span style="color: #AE81FF;" id="a600">None</span><span style="color: #F8F8F2;" id="a601">:</span></div><div class="line" id="a602"><span style="color: #F8F8F2;" id="a603">        toast </span><span style="color: #F92672;" id="a604">=</span><span style="color: #F8F8F2;" id="a605"> handleClipboard()</span></div><div class="line" id="a606"><span style="color: #F8F8F2;" id="a607">    </span><span style="color: #F92672;" id="a608">else</span><span style="color: #F8F8F2;" id="a609">:</span></div><div class="line" id="a610"><span style="color: #F8F8F2;" id="a611">        toast </span><span style="color: #F92672;" id="a612">=</span><span style="color: #F8F8F2;" id="a613"> handleLocalFile(path)</span></div><div class="line" id="a614">&nbsp;</div><div class="line" id="a615"><span style="color: #F8F8F2;" id="a616">    </span><span style="color: #66D9EF;" id="a617">print</span><span style="color: #F8F8F2;" id="a618">(toast)</span></div></code></pre></div><h1 class="heading" id="配置项">配置项<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e9%a1%b9" id="a620"></a></h1><p id="a621"><span class="unwrap" id="a622">这个 Python 脚本其中的一些个人信息没有做成可配置的，需要手动改一下，改的时候把<strong id="a623">中括号</strong>去掉。</span></p><ul id="a624"><li id="a625">[yourGithubName]：github 的名字</li><li id="a626">[yourRepository]：存储文件的仓库名</li><li id="a627">[yourToken]：在<a href="https://github.com/settings/tokens/new" class="external-link" target="_blank" id="a628">这里</a>生成的 token，需要具有访问仓库的权限。<ul id="a629"><li id="a630"><img alt="20210430103955.png" src="https://storage.roamnote.com:8000/20210430103955.png" width="1620" style="aspect-ratio: 1620 / 820;" id="a631"></li></ul></li><li id="a632">[yourGithubEmail]：任意一个邮箱，通常填写的是提交人的邮箱。</li><li id="a633">[theBranch]：想要把文件存储到哪个分支，如果没有特殊需求，通常是 master 或者 main。</li></ul><h1 class="heading" id="安装-python-依赖">安装 python 依赖<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%ae%89%e8%a3%85-python-%e4%be%9d%e8%b5%96" id="a635"></a></h1><p id="a636"><span class="unwrap" id="a637">运行<code id="a638">pip3 install pyobjc</code>安装 <a href="https://pypi.org/project/pyobjc/" class="external-link" target="_blank" id="a639">pyobjc</a></span></p><p id="a640"><span class="unwrap" id="a641">运行<code id="a642">pip3 install Pillow</code>安装 <a href="https://pypi.org/project/Pillow/" class="external-link" target="_blank" id="a643">Pillow</a></span></p><ul id="a644"><li id="a645">pyobjc：一个 Python 和 Object-C 之间的桥梁，可以在 Python 中使用 <a href="https://developer.apple.com/documentation/appkit" class="external-link" target="_blank" id="a646">AppKit</a> 提供的功能，例如访问剪切板。</li><li id="a647">Pillow：一个 Python 的图像处理库</li></ul><p id="a648"><span class="unwrap" id="a649">这两个库的功能可能重复了，pyobjc 可能也具备处理图像的功能，但是我没有深入研究。</span></p><h1 class="heading" id="在命令行运行脚本上传文件">在命令行运行脚本上传文件<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%9c%a8%e5%91%bd%e4%bb%a4%e8%a1%8c%e8%bf%90%e8%a1%8c%e8%84%9a%e6%9c%ac%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" id="a651"></a></h1><p id="a652"><span class="unwrap" id="a653">配置好之后，这个脚本就可以使用了。使用截图工具截一张图片，然后在终端里运行<code id="a654">python3 /path-to-file/upload-file.py</code>，如果没出错，终端会返回提示信息。或者也可以在访达中复制一个已经存在的文件，然后运行脚本。</span></p><p id="a655"><span class="unwrap" id="a656">如果文件很大，上传花费的时间可能很久。另外由于 jsdelivr 的限制，好像是超过 20M 的文件，就不可以访问了。关于这一点，暂时没有好办法，只能尽可能的把图片或者文件控制在 20M 之内。</span></p><h1 class="heading" id="搭配-automator-使用">搭配 Automator 使用<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%90%ad%e9%85%8d-automator-%e4%bd%bf%e7%94%a8" id="a658"></a></h1><p id="a659"><span class="unwrap" id="a660">上面的脚本已经可以使用了，但是每次跑命令行依然很麻烦，苹果电脑提供了一个叫做 Automator(自动操作) 的软件，可以借助它来跑脚本。</span></p><h1 class="heading" id="新建快速操作">新建快速操作<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%96%b0%e5%bb%ba%e5%bf%ab%e9%80%9f%e6%93%8d%e4%bd%9c" id="a662"></a></h1><p id="a663"><span class="unwrap" id="a664">打开 Automator，新建一个快速操作：</span></p><p id="a665"><span class="unwrap" id="a666"><img alt="20210430105914.png" src="https://storage.roamnote.com:8000/20210430105914.png" width="1298" style="aspect-ratio: 1298 / 1180;" id="a667"></span></p><h1 class="heading" id="配置开始上传提示">配置开始上传提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%a7%8b%e4%b8%8a%e4%bc%a0%e6%8f%90%e7%a4%ba" id="a669"></a></h1><p id="a670"><span class="unwrap" id="a671">这一步的目的是让 AppleScript 弹出一个提示。</span></p><p id="a672"><span class="unwrap" id="a673">添加一个运行 AppleScript 脚本：</span></p><p id="a674"><span class="unwrap" id="a675"><img alt="20210430110059.png" src="https://storage.roamnote.com:8000/20210430110059.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a676"></span></p><p id="a677"><span class="unwrap" id="a678">在其中写上：</span></p><div class="highlight" id="a679"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a680"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a681"></button><code id="a682"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a683"><span style="color: #F8F8F2;" id="a684">on run {input, parameters}</span></div><div class="line" id="a685"><span style="color: #F8F8F2;" id="a686">    display notification "⬆️ 开始上传"</span></div><div class="line" id="a687"><span style="color: #F8F8F2;" id="a688">    return input</span></div><div class="line" id="a689"><span style="color: #F8F8F2;" id="a690">end run</span></div></code></pre></div><h1 class="heading" id="配置-shell-脚本">配置 shell 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae-shell-%e8%84%9a%e6%9c%ac" id="a692"></a></h1><p id="a693"><span class="unwrap" id="a694">增加一个运行 Shell 脚本(<strong id="a695">注意使用 <code id="a696">bash</code> 来执行脚本</strong>)：</span></p><p id="a697"><span class="unwrap" id="a698"><img alt="20210430110418.png" src="https://storage.roamnote.com:8000/20210430110418.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a699"></span></p><p id="a700"><span class="unwrap" id="a701">在其中写上：</span></p><div class="highlight" id="a702"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a703"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a704"></button><code id="a705"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a706"><span style="color: #F8F8F2;" id="a707">/usr/local/bin/python3 &lt;&lt;EOF</span></div><div class="line" id="a708">&nbsp;</div><div class="line" id="a709"><span style="color: #F8F8F2;" id="a710">把上一步中配置好的 Python 脚本复制到这里</span></div><div class="line" id="a711">&nbsp;</div><div class="line" id="a712"><span style="color: #F8F8F2;" id="a713">EOF</span></div></code></pre></div><p id="a714"><span class="unwrap" id="a715">其中的 <code id="a716">/usr/local/bin/python3 &lt;&lt;EOF</code>和 <code id="a717">EOF</code>写法是一个 Hack，如果直接选择使用 python 执行，会出现找不到 Python 第三方库的情况，所以用了这个 Hack 的办法。</span></p><p id="a718"><span class="unwrap" id="a719"><img alt="20210511132828.png" src="https://storage.roamnote.com:8000/20210511132828.png" width="396" style="aspect-ratio: 396 / 472;" id="a720"></span></p><h1 class="heading" id="配置上传结束提示">配置上传结束提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e4%b8%8a%e4%bc%a0%e7%bb%93%e6%9d%9f%e6%8f%90%e7%a4%ba" id="a722"></a></h1><p id="a723"><span class="unwrap" id="a724">这一步的目的是显示 Python 脚本返回的字符串，方便判断图片是否上传成功。</span></p><p id="a725"><span class="unwrap" id="a726"><img alt="20210430204504.png" src="https://storage.roamnote.com:8000/20210430204504.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a727"></span></p><p id="a728"><span class="unwrap" id="a729">新增一个运行 AppleScript 脚本，在其中写上：</span></p><div class="highlight" id="a730"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a731"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a732"></button><code id="a733"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a734"><span style="color: #F8F8F2;" id="a735">on run {input, parameters}</span></div><div class="line" id="a736"><span style="color: #F8F8F2;" id="a737">  -- 使用消息通知显示 python 输出的字符串</span></div><div class="line" id="a738"><span style="color: #F8F8F2;" id="a739">    display notification input as string</span></div><div class="line" id="a740"><span style="color: #F8F8F2;" id="a741">    return input</span></div><div class="line" id="a742"><span style="color: #F8F8F2;" id="a743">end run</span></div></code></pre></div><p id="a744"><span class="unwrap" id="a745">最后保存文件(默认保存位置是<code id="a746">~/Library/Services</code>)，到此已经配置完成。</span></p><h1 class="heading" id="设置快捷键">设置快捷键<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e8%ae%be%e7%bd%ae%e5%bf%ab%e6%8d%b7%e9%94%ae" id="a748"></a></h1><p id="a749"><span class="unwrap" id="a750">可以在设置中，为刚才创建的服务设置一个快捷键。</span></p><p id="a751"><span class="unwrap" id="a752"><img src="20210430112305.png" alt="image-20210430111422275" id="a753"></span></p></article><div class="back-links"><details open=""><summary>Play With Code (1)</summary><a href="/play-with-code/#a12"><img src="data:image/jpeg;base64,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"></a></details></div></main><aside id="right-aside"><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav></aside></div></body></html>