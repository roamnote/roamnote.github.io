<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:"><title>Python 搭配 Automator 上传文件到 Github</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><style>:root{--font-sans:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--font-mono:Consolas, monaco, 'Ubuntu Mono', 'Liberation Mono', 'Courier New', Courier, monospace;--b-1:#4C4E4D;--b-2:#202125;--w-1:#FFFFFF;--w-2:#EFEFEF;--w-3:#707070;--lk-1:#2656C9}header{position:fixed;z-index:2;inset:0;height:40px;padding:0 19px;background-color:var(--w-1);display:flex;justify-content:space-between;gap:10px}header nav *{display:inline-block;height:40px;line-height:40px}header nav{flex-grow:1;display:flex;gap:16px}header nav a{color:var(--b-1);text-decoration:none;position:relative}header a:not(:last-child){white-space:nowrap}header nav a:last-child{overflow:hidden}header a:not(:last-child)::after{content:"";position:absolute;right:-9px;top:50%;transform:translateY(-50%)rotate(20deg);width:2px;height:15px;background-color:var(--w-2)}@media(max-width:900px){header nav a:not(:last-child) span{display:none}header nav a:not(:last-child)::before{content:attr(data-short-title)}}header #toolbar{display:flex;align-items:center;gap:10px;flex-shrink:0}header #search,header #toc summary{width:24px;height:24px;line-height:24px;border-radius:30px;font-size:12px;background-color:var(--w-2);text-align:center;list-style:none;cursor:pointer;border:none;outline:none;user-select:none}header #search{border:none;outline:none;user-select:none}header #toc summary{list-style:none;cursor:pointer;display:flex;justify-content:center;align-items:center}header #toc summary svg{width:18px;height:18px}header #toc{display:none}@media(max-width:900px){header #toc{display:inline-block}}header #toc summary::-webkit-details-marker{display:none}header #toc #TableOfContents{position:absolute;top:32px;right:-6px;width:100vw;max-width:500px;height:180px;overflow-y:scroll;border-bottom:1px solid var(--highlight);border-radius:0;background-color:#fff;z-index:1}header #toc #TableOfContents ul{padding-left:36px;padding-right:16px;margin:0}</style><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{hideAnchorFocus(),moveBreadCrumb(),collapseToc(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body style=""><header><nav><a href="/" title="漫游笔记" data-short-title="🏠"><span>🏠 漫游笔记</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" title="Python 搭配 Automator 上传文件到 Github" data-short-title="Pyth" id="lastBreadCrumb" style="left: 0px;"><span title="Python 搭配 Automator 上传文件到 Github">Python 搭配 Automator 上传文件到 Github</span></a></nav><div id="toolbar"><details id="toc"><summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></summary><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav></details><button id="search">🔍</button></div></header><div id="searchBox" data-nosnippet=""><input id="searchInput" tabindex="0" autocomplete="off" placeholder="搜索"><div id="searchBoxToolBar"></div><div id="searchResults" class="no-hover"></div></div><picture data-nosnippet=""><source srcset="https://storage.roamnote.com:8000/hero-w4000.jpg,
https://storage.roamnote.com:8000/hero-w8000.jpg 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.jpg,
https://storage.roamnote.com:8000/hero-w4000.jpg 2x" media="(min-width: 750px)"><source srcset="https://storage.roamnote.com:8000/hero-w1000.jpg,
https://storage.roamnote.com:8000/hero-w2000.jpg 2x" media="(min-width: 390px)"><source srcset="https://storage.roamnote.com:8000/hero-w4000.avif,
https://storage.roamnote.com:8000/hero-w8000.avif 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.avif,
https://storage.roamnote.com:8000/hero-w4000.avif 2x" media="(min-width: 750px)"><img srcset="https://storage.roamnote.com:8000/hero-w1000.avif,
https://storage.roamnote.com:8000/hero-w2000.avif 2x" id="heroImage" alt="漫游笔记" width="1920" style="aspect-ratio:1920/441"></picture><div class="container"><main><h1>Python 搭配 Automator 上传文件到 Github</h1><article pageurl="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" pagetitle="Python 搭配 Automator 上传文件到 Github"><time id="lastmod" data-icon="✍️">2024年01年22日</time><nav id="TableOfContents"><ul id="a2"><li id="a3"><a href="#效果" id="a4">效果</a></li><li id="a5"><a href="#python-脚本" id="a6">Python 脚本</a></li><li id="a7"><a href="#配置项" id="a8">配置项</a></li><li id="a9"><a href="#安装-python-依赖" id="a10">安装 python 依赖</a></li><li id="a11"><a href="#在命令行运行脚本上传文件" id="a12">在命令行运行脚本上传文件</a></li><li id="a13"><a href="#搭配-automator-使用" id="a14">搭配 Automator 使用</a></li><li id="a15"><a href="#新建快速操作" id="a16">新建快速操作</a></li><li id="a17"><a href="#配置开始上传提示" id="a18">配置开始上传提示</a></li><li id="a19"><a href="#配置-shell-脚本" id="a20">配置 shell 脚本</a></li><li id="a21"><a href="#配置上传结束提示" id="a22">配置上传结束提示</a></li><li id="a23"><a href="#设置快捷键" id="a24">设置快捷键</a></li></ul></nav><p id="a26"><span class="unwrap" id="a27">自从写博客以来，一直有上传图片的需求，一开始用第三方图床，例如微博等等，其缺点是图片不属于自己，某一天可能就无法访问了。后来也折腾过腾讯、阿里的对象存储。直到后来发现可以把文件存在 github 上，再配合 jsdelivr 的 CDN，在国内访问速度也挺快。</span></p><p id="a28"><span class="unwrap" id="a29">至于上传图片的工具，用过 <a href="https://apps.apple.com/cn/app/ipic-markdown-%E5%9B%BE%E5%BA%8A%E5%B7%A5%E5%85%B7/id1101244278?mt=12" class="external-link" target="_blank" id="a30">iPic</a>、<a href="https://github.com/gee1k/uPic" class="external-link" target="_blank" id="a31">uPic</a>、<a href="https://molunerfinn.com/PicGo/" class="external-link" target="_blank" id="a32">picGo</a>，其中 iPic 是付费的，他们的好处是支持不同的图床、配置方便、不需要折腾。</span></p><p id="a33"><span class="unwrap" id="a34">本着断舍离的原则，我写了一个 Python 脚本，配合系统自带的 Automator ，实现了把文件夹里的<strong id="a35">文件</strong>（含图片）、微信群里的图片或者剪切板的图片上传到 github，如果开了"接力"功能，也可以上传在手机里复制图片。</span></p><h1 class="heading" id="效果">效果<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%95%88%e6%9e%9c" id="a37"></a></h1><p id="a38"><span class="unwrap" id="a39"><img alt="20220916010307.gif" src="https://storage.roamnote.com:8000/20220916010307.gif" width="900" style="aspect-ratio: 900 / 563;" id="a40"></span></p><h1 class="heading" id="python-脚本">Python 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#python-%e8%84%9a%e6%9c%ac" id="a42"></a></h1><p id="a43"><span class="unwrap" id="a44">在电脑上新建一个 Python 文件，例如<code id="a45">upload-file.py</code>，把下面的内容复制进去。</span></p><div class="highlight" id="a46"><pre tabindex="0" style="overflow: hidden;" class="torchlight" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a47"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a48"></button><code class="language-python" data-lang="python" id="a49"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a50"><span style="color: #F92672;" id="a51">import</span><span style="color: #F8F8F2;" id="a52"> io</span></div><div class="line" id="a53"><span style="color: #F92672;" id="a54">import</span><span style="color: #F8F8F2;" id="a55"> os</span></div><div class="line" id="a56"><span style="color: #F92672;" id="a57">import</span><span style="color: #F8F8F2;" id="a58"> re</span></div><div class="line" id="a59"><span style="color: #F92672;" id="a60">import</span><span style="color: #F8F8F2;" id="a61"> json</span></div><div class="line" id="a62"><span style="color: #F92672;" id="a63">import</span><span style="color: #F8F8F2;" id="a64"> time</span></div><div class="line" id="a65"><span style="color: #F92672;" id="a66">import</span><span style="color: #F8F8F2;" id="a67"> base64</span></div><div class="line" id="a68"><span style="color: #F92672;" id="a69">import</span><span style="color: #F8F8F2;" id="a70"> requests</span></div><div class="line" id="a71"><span style="color: #F92672;" id="a72">import</span><span style="color: #F8F8F2;" id="a73"> subprocess</span></div><div class="line" id="a74">&nbsp;</div><div class="line" id="a75"><span style="color: #F92672;" id="a76">from</span><span style="color: #F8F8F2;" id="a77"> urllib </span><span style="color: #F92672;" id="a78">import</span><span style="color: #F8F8F2;" id="a79"> parse</span></div><div class="line" id="a80"><span style="color: #88846F;" id="a81"># Pillow</span></div><div class="line" id="a82"><span style="color: #F92672;" id="a83">from</span><span style="color: #F8F8F2;" id="a84"> </span><span style="color: #AE81FF;" id="a85">PIL</span><span style="color: #F8F8F2;" id="a86"> </span><span style="color: #F92672;" id="a87">import</span><span style="color: #F8F8F2;" id="a88"> Image, ImageGrab</span></div><div class="line" id="a89"><span style="color: #88846F;" id="a90"># PyObjC</span></div><div class="line" id="a91"><span style="color: #F92672;" id="a92">from</span><span style="color: #F8F8F2;" id="a93"> AppKit </span><span style="color: #F92672;" id="a94">import</span><span style="color: #F8F8F2;" id="a95"> NSPasteboard, NSURLPboardType</span></div><div class="line" id="a96">&nbsp;</div><div class="line" id="a97"><span style="color: #88846F;" id="a98"># 从剪切板获取完整的文件路径</span></div><div class="line" id="a99"><span style="color: #66D9EF;" id="a100">def</span><span style="color: #F8F8F2;" id="a101"> </span><span style="color: #A6E22E;" id="a102">getPath</span><span style="color: #F8F8F2;" id="a103">():</span></div><div class="line" id="a104"><span style="color: #F8F8F2;" id="a105">    </span><span style="color: #88846F;" id="a106"># https://developer.apple.com/documentation/appkit/nspasteboard/pasteboardtype</span></div><div class="line" id="a107"><span style="color: #F8F8F2;" id="a108">    pb </span><span style="color: #F92672;" id="a109">=</span><span style="color: #F8F8F2;" id="a110"> NSPasteboard.generalPasteboard()</span></div><div class="line" id="a111">&nbsp;</div><div class="line" id="a112"><span style="color: #F8F8F2;" id="a113">    url </span><span style="color: #F92672;" id="a114">=</span><span style="color: #F8F8F2;" id="a115"> pb.stringForType_(NSURLPboardType)</span></div><div class="line" id="a116">&nbsp;</div><div class="line" id="a117"><span style="color: #F8F8F2;" id="a118">    </span><span style="color: #F92672;" id="a119">if</span><span style="color: #F8F8F2;" id="a120"> url </span><span style="color: #F92672;" id="a121">is</span><span style="color: #F8F8F2;" id="a122"> </span><span style="color: #AE81FF;" id="a123">None</span><span style="color: #F8F8F2;" id="a124">:</span></div><div class="line" id="a125"><span style="color: #F8F8F2;" id="a126">        </span><span style="color: #F92672;" id="a127">return</span><span style="color: #F8F8F2;" id="a128"> </span><span style="color: #AE81FF;" id="a129">None</span></div><div class="line" id="a130"><span style="color: #F8F8F2;" id="a131">    </span><span style="color: #F92672;" id="a132">else</span><span style="color: #F8F8F2;" id="a133">:</span></div><div class="line" id="a134"><span style="color: #F8F8F2;" id="a135">        plistBytes </span><span style="color: #F92672;" id="a136">=</span><span style="color: #F8F8F2;" id="a137"> url.encode(</span><span style="color: #E6DB74;" id="a138">"utf-8"</span><span style="color: #F8F8F2;" id="a139">)</span></div><div class="line" id="a140"><span style="color: #F8F8F2;" id="a141">        pathByte </span><span style="color: #F92672;" id="a142">=</span><span style="color: #F8F8F2;" id="a143"> re.findall(</span><span style="color: #66D9EF;" id="a144">rb</span><span style="color: #E6DB74;" id="a145">'&lt;string&gt;file://(.</span><span style="color: #F92672;" id="a146">+?</span><span style="color: #E6DB74;" id="a147">)&lt;/string&gt;'</span><span style="color: #F8F8F2;" id="a148">, plistBytes)[</span><span style="color: #AE81FF;" id="a149">0</span><span style="color: #F8F8F2;" id="a150">]</span></div><div class="line" id="a151"><span style="color: #F8F8F2;" id="a152">        pathUTF8 </span><span style="color: #F92672;" id="a153">=</span><span style="color: #F8F8F2;" id="a154"> pathByte.decode(</span><span style="color: #E6DB74;" id="a155">'utf-8'</span><span style="color: #F8F8F2;" id="a156">)</span></div><div class="line" id="a157"><span style="color: #F8F8F2;" id="a158">        </span><span style="color: #F92672;" id="a159">return</span><span style="color: #F8F8F2;" id="a160"> parse.unquote(pathUTF8)</span></div><div class="line" id="a161">&nbsp;</div><div class="line" id="a162"><span style="color: #88846F;" id="a163"># 把数据推送到 github</span></div><div class="line" id="a164"><span style="color: #66D9EF;" id="a165">def</span><span style="color: #F8F8F2;" id="a166"> </span><span style="color: #A6E22E;" id="a167">push</span><span style="color: #F8F8F2;" id="a168">(</span><span style="color: #FD971F;" id="a169">base64</span><span style="color: #F8F8F2;" id="a170">, </span><span style="color: #FD971F;" id="a171">filename</span><span style="color: #F8F8F2;" id="a172">):</span></div><div class="line" id="a173"><span style="color: #F8F8F2;" id="a174">    url </span><span style="color: #F92672;" id="a175">=</span><span style="color: #F8F8F2;" id="a176"> </span><span style="color: #E6DB74;" id="a177">"https://api.github.com/repos/[yourGithubName]/[yourRepository]/contents/"</span><span style="color: #F8F8F2;" id="a178"> </span><span style="color: #F92672;" id="a179">+</span><span style="color: #F8F8F2;" id="a180"> filename</span></div><div class="line" id="a181">&nbsp;</div><div class="line" id="a182"><span style="color: #F8F8F2;" id="a183">    headers </span><span style="color: #F92672;" id="a184">=</span><span style="color: #F8F8F2;" id="a185"> {</span><span style="color: #E6DB74;" id="a186">"Authorization"</span><span style="color: #F8F8F2;" id="a187">: </span><span style="color: #E6DB74;" id="a188">"token [yourToken]"</span><span style="color: #F8F8F2;" id="a189">}</span></div><div class="line" id="a190">&nbsp;</div><div class="line" id="a191"><span style="color: #F8F8F2;" id="a192">    data </span><span style="color: #F92672;" id="a193">=</span><span style="color: #F8F8F2;" id="a194"> json.dumps({</span></div><div class="line" id="a195"><span style="color: #F8F8F2;" id="a196">        </span><span style="color: #E6DB74;" id="a197">"message"</span><span style="color: #F8F8F2;" id="a198">: </span><span style="color: #E6DB74;" id="a199">"auto commit"</span><span style="color: #F8F8F2;" id="a200">,</span></div><div class="line" id="a201"><span style="color: #F8F8F2;" id="a202">        </span><span style="color: #E6DB74;" id="a203">"committer"</span><span style="color: #F8F8F2;" id="a204">: {</span></div><div class="line" id="a205"><span style="color: #F8F8F2;" id="a206">            </span><span style="color: #E6DB74;" id="a207">"name"</span><span style="color: #F8F8F2;" id="a208">: </span><span style="color: #E6DB74;" id="a209">"[yourName]"</span><span style="color: #F8F8F2;" id="a210">,</span></div><div class="line" id="a211"><span style="color: #F8F8F2;" id="a212">            </span><span style="color: #E6DB74;" id="a213">"email"</span><span style="color: #F8F8F2;" id="a214">: </span><span style="color: #E6DB74;" id="a215">"[yourEmail]"</span></div><div class="line" id="a216"><span style="color: #F8F8F2;" id="a217">        },</span></div><div class="line" id="a218"><span style="color: #F8F8F2;" id="a219">        </span><span style="color: #E6DB74;" id="a220">"content"</span><span style="color: #F8F8F2;" id="a221">: base64</span></div><div class="line" id="a222"><span style="color: #F8F8F2;" id="a223">    })</span></div><div class="line" id="a224">&nbsp;</div><div class="line" id="a225"><span style="color: #F8F8F2;" id="a226">    response </span><span style="color: #F92672;" id="a227">=</span><span style="color: #F8F8F2;" id="a228"> requests.put(</span><span style="color: #FD971F;" id="a229">url</span><span style="color: #F92672;" id="a230">=</span><span style="color: #F8F8F2;" id="a231">url, </span><span style="color: #FD971F;" id="a232">data</span><span style="color: #F92672;" id="a233">=</span><span style="color: #F8F8F2;" id="a234">data, </span><span style="color: #FD971F;" id="a235">headers</span><span style="color: #F92672;" id="a236">=</span><span style="color: #F8F8F2;" id="a237">headers)</span></div><div class="line" id="a238">&nbsp;</div><div class="line" id="a239"><span style="color: #F8F8F2;" id="a240">    </span><span style="color: #F92672;" id="a241">return</span><span style="color: #F8F8F2;" id="a242"> response</span></div><div class="line" id="a243">&nbsp;</div><div class="line" id="a244"><span style="color: #88846F;" id="a245"># 从文件路径得到文件后缀</span></div><div class="line" id="a246"><span style="color: #66D9EF;" id="a247">def</span><span style="color: #F8F8F2;" id="a248"> </span><span style="color: #A6E22E;" id="a249">getExtension</span><span style="color: #F8F8F2;" id="a250">(</span><span style="color: #FD971F;" id="a251">path</span><span style="color: #F8F8F2;" id="a252">):</span></div><div class="line" id="a253"><span style="color: #F8F8F2;" id="a254">  </span><span style="color: #F92672;" id="a255">return</span><span style="color: #F8F8F2;" id="a256"> os.path.splitext(path)[</span><span style="color: #AE81FF;" id="a257">1</span><span style="color: #F8F8F2;" id="a258">]</span></div><div class="line" id="a259">&nbsp;</div><div class="line" id="a260"><span style="color: #88846F;" id="a261"># 用 Base64 对给定的 Bytes 进行编码</span></div><div class="line" id="a262"><span style="color: #66D9EF;" id="a263">def</span><span style="color: #F8F8F2;" id="a264"> </span><span style="color: #A6E22E;" id="a265">bytesToBase64</span><span style="color: #F8F8F2;" id="a266">(</span><span style="color: #FD971F;" id="a267">data</span><span style="color: #F8F8F2;" id="a268">):</span></div><div class="line" id="a269"><span style="color: #F8F8F2;" id="a270">    </span><span style="color: #F92672;" id="a271">return</span><span style="color: #F8F8F2;" id="a272"> base64.b64encode(data).decode(</span><span style="color: #E6DB74;" id="a273">'utf-8'</span><span style="color: #F8F8F2;" id="a274">)</span></div><div class="line" id="a275">&nbsp;</div><div class="line" id="a276"><span style="color: #88846F;" id="a277"># 拼接文件名</span></div><div class="line" id="a278"><span style="color: #66D9EF;" id="a279">def</span><span style="color: #F8F8F2;" id="a280"> </span><span style="color: #A6E22E;" id="a281">getFilename</span><span style="color: #F8F8F2;" id="a282">(</span><span style="color: #FD971F;" id="a283">extension</span><span style="color: #F8F8F2;" id="a284">):</span></div><div class="line" id="a285"><span style="color: #F8F8F2;" id="a286">    </span><span style="color: #F92672;" id="a287">return</span><span style="color: #F8F8F2;" id="a288"> time.strftime(</span><span style="color: #E6DB74;" id="a289">"%Y%m</span><span style="color: #AE81FF;" id="a290">%d</span><span style="color: #E6DB74;" id="a291">%H%M%S"</span><span style="color: #F8F8F2;" id="a292">, time.localtime()) </span><span style="color: #F92672;" id="a293">+</span><span style="color: #F8F8F2;" id="a294"> extension</span></div><div class="line" id="a295">&nbsp;</div><div class="line" id="a296"><span style="color: #88846F;" id="a297"># 处理 github 返回的响应</span></div><div class="line" id="a298"><span style="color: #66D9EF;" id="a299">def</span><span style="color: #F8F8F2;" id="a300"> </span><span style="color: #A6E22E;" id="a301">handleResponse</span><span style="color: #F8F8F2;" id="a302">(</span><span style="color: #FD971F;" id="a303">response</span><span style="color: #F8F8F2;" id="a304">, </span><span style="color: #FD971F;" id="a305">filename</span><span style="color: #F8F8F2;" id="a306">, </span><span style="color: #FD971F;" id="a307">extension</span><span style="color: #F8F8F2;" id="a308">):</span></div><div class="line" id="a309"><span style="color: #F8F8F2;" id="a310">    </span><span style="color: #F92672;" id="a311">if</span><span style="color: #F8F8F2;" id="a312"> response.status_code </span><span style="color: #F92672;" id="a313">==</span><span style="color: #F8F8F2;" id="a314"> </span><span style="color: #AE81FF;" id="a315">201</span><span style="color: #F8F8F2;" id="a316">:</span></div><div class="line" id="a317"><span style="color: #F8F8F2;" id="a318">        url </span><span style="color: #F92672;" id="a319">=</span><span style="color: #F8F8F2;" id="a320"> buildUrl(filename, extension)</span></div><div class="line" id="a321"><span style="color: #F8F8F2;" id="a322">        copyToClipboard(url)</span></div><div class="line" id="a323"><span style="color: #F8F8F2;" id="a324">        icon </span><span style="color: #F92672;" id="a325">=</span><span style="color: #F8F8F2;" id="a326"> </span><span style="color: #E6DB74;" id="a327">"✅"</span></div><div class="line" id="a328"><span style="color: #F8F8F2;" id="a329">    </span><span style="color: #F92672;" id="a330">else</span><span style="color: #F8F8F2;" id="a331">:</span></div><div class="line" id="a332"><span style="color: #F8F8F2;" id="a333">        icon </span><span style="color: #F92672;" id="a334">=</span><span style="color: #F8F8F2;" id="a335"> </span><span style="color: #E6DB74;" id="a336">"❌"</span></div><div class="line" id="a337">&nbsp;</div><div class="line" id="a338"><span style="color: #F8F8F2;" id="a339">    </span><span style="color: #F92672;" id="a340">return</span><span style="color: #F8F8F2;" id="a341"> icon </span><span style="color: #F92672;" id="a342">+</span><span style="color: #F8F8F2;" id="a343"> </span><span style="color: #E6DB74;" id="a344">" "</span><span style="color: #F8F8F2;" id="a345"> </span><span style="color: #F92672;" id="a346">+</span><span style="color: #F8F8F2;" id="a347"> response.reason</span></div><div class="line" id="a348">&nbsp;</div><div class="line" id="a349"><span style="color: #88846F;" id="a350"># 处理本地文件</span></div><div class="line" id="a351"><span style="color: #66D9EF;" id="a352">def</span><span style="color: #F8F8F2;" id="a353"> </span><span style="color: #A6E22E;" id="a354">handleLocalFile</span><span style="color: #F8F8F2;" id="a355">(</span><span style="color: #FD971F;" id="a356">path</span><span style="color: #F8F8F2;" id="a357">):</span></div><div class="line" id="a358"><span style="color: #F8F8F2;" id="a359">    </span><span style="color: #F92672;" id="a360">with</span><span style="color: #F8F8F2;" id="a361"> </span><span style="color: #66D9EF;" id="a362">open</span><span style="color: #F8F8F2;" id="a363">(path, </span><span style="color: #E6DB74;" id="a364">'rb'</span><span style="color: #F8F8F2;" id="a365">) </span><span style="color: #F92672;" id="a366">as</span><span style="color: #F8F8F2;" id="a367"> f:</span></div><div class="line" id="a368">&nbsp;</div><div class="line" id="a369"><span style="color: #F8F8F2;" id="a370">        extension </span><span style="color: #F92672;" id="a371">=</span><span style="color: #F8F8F2;" id="a372"> getExtension(path)</span></div><div class="line" id="a373">&nbsp;</div><div class="line" id="a374"><span style="color: #F8F8F2;" id="a375">        base64 </span><span style="color: #F92672;" id="a376">=</span><span style="color: #F8F8F2;" id="a377"> bytesToBase64(f.read())</span></div><div class="line" id="a378">&nbsp;</div><div class="line" id="a379"><span style="color: #F8F8F2;" id="a380">        filename </span><span style="color: #F92672;" id="a381">=</span><span style="color: #F8F8F2;" id="a382"> getFilename(extension)</span></div><div class="line" id="a383">&nbsp;</div><div class="line" id="a384"><span style="color: #F8F8F2;" id="a385">        response </span><span style="color: #F92672;" id="a386">=</span><span style="color: #F8F8F2;" id="a387"> push(base64, filename)</span></div><div class="line" id="a388">&nbsp;</div><div class="line" id="a389"><span style="color: #F8F8F2;" id="a390">        </span><span style="color: #F92672;" id="a391">return</span><span style="color: #F8F8F2;" id="a392"> handleResponse(response, filename, extension)</span></div><div class="line" id="a393">&nbsp;</div><div class="line" id="a394"><span style="color: #88846F;" id="a395"># 处理剪切板的文件，与本地文件不同的是，剪切板的文件好像是在内存中，它并没有一个文件路径(有待研究)</span></div><div class="line" id="a396"><span style="color: #66D9EF;" id="a397">def</span><span style="color: #F8F8F2;" id="a398"> </span><span style="color: #A6E22E;" id="a399">handleClipboard</span><span style="color: #F8F8F2;" id="a400">():</span></div><div class="line" id="a401"><span style="color: #F8F8F2;" id="a402">    image </span><span style="color: #F92672;" id="a403">=</span><span style="color: #F8F8F2;" id="a404"> ImageGrab.grabclipboard()</span></div><div class="line" id="a405">&nbsp;</div><div class="line" id="a406"><span style="color: #F8F8F2;" id="a407">    </span><span style="color: #F92672;" id="a408">if</span><span style="color: #F8F8F2;" id="a409"> </span><span style="color: #66D9EF;" id="a410">isinstance</span><span style="color: #F8F8F2;" id="a411">(image, Image.Image):</span></div><div class="line" id="a412">&nbsp;</div><div class="line" id="a413"><span style="color: #F8F8F2;" id="a414">        buffer </span><span style="color: #F92672;" id="a415">=</span><span style="color: #F8F8F2;" id="a416"> io.BytesIO()</span></div><div class="line" id="a417">&nbsp;</div><div class="line" id="a418"><span style="color: #F8F8F2;" id="a419">        imageFormat </span><span style="color: #F92672;" id="a420">=</span><span style="color: #F8F8F2;" id="a421"> </span><span style="color: #E6DB74;" id="a422">"png"</span></div><div class="line" id="a423">&nbsp;</div><div class="line" id="a424"><span style="color: #F8F8F2;" id="a425">        extension </span><span style="color: #F92672;" id="a426">=</span><span style="color: #F8F8F2;" id="a427"> </span><span style="color: #E6DB74;" id="a428">"."</span><span style="color: #F8F8F2;" id="a429"> </span><span style="color: #F92672;" id="a430">+</span><span style="color: #F8F8F2;" id="a431"> imageFormat</span></div><div class="line" id="a432">&nbsp;</div><div class="line" id="a433"><span style="color: #F8F8F2;" id="a434">        image.save(buffer, imageFormat)</span></div><div class="line" id="a435">&nbsp;</div><div class="line" id="a436"><span style="color: #F8F8F2;" id="a437">        base64 </span><span style="color: #F92672;" id="a438">=</span><span style="color: #F8F8F2;" id="a439"> bytesToBase64(buffer.getvalue())</span></div><div class="line" id="a440">&nbsp;</div><div class="line" id="a441"><span style="color: #F8F8F2;" id="a442">        filename </span><span style="color: #F92672;" id="a443">=</span><span style="color: #F8F8F2;" id="a444"> getFilename(extension)</span></div><div class="line" id="a445">&nbsp;</div><div class="line" id="a446"><span style="color: #F8F8F2;" id="a447">        response </span><span style="color: #F92672;" id="a448">=</span><span style="color: #F8F8F2;" id="a449"> push(base64, filename)</span></div><div class="line" id="a450">&nbsp;</div><div class="line" id="a451"><span style="color: #F8F8F2;" id="a452">        </span><span style="color: #F92672;" id="a453">return</span><span style="color: #F8F8F2;" id="a454"> handleResponse(response, filename, extension)</span></div><div class="line" id="a455"><span style="color: #F8F8F2;" id="a456">    </span><span style="color: #F92672;" id="a457">else</span><span style="color: #F8F8F2;" id="a458">:</span></div><div class="line" id="a459"><span style="color: #F8F8F2;" id="a460">        </span><span style="color: #F92672;" id="a461">return</span><span style="color: #F8F8F2;" id="a462"> </span><span style="color: #E6DB74;" id="a463">"❌ 剪切板的内容不是图片"</span></div><div class="line" id="a464">&nbsp;</div><div class="line" id="a465"><span style="color: #88846F;" id="a466"># 把给定的字符串复制到剪切板</span></div><div class="line" id="a467"><span style="color: #66D9EF;" id="a468">def</span><span style="color: #F8F8F2;" id="a469"> </span><span style="color: #A6E22E;" id="a470">copyToClipboard</span><span style="color: #F8F8F2;" id="a471">(</span><span style="color: #FD971F;" id="a472">data</span><span style="color: #F8F8F2;" id="a473">):</span></div><div class="line" id="a474"><span style="color: #F8F8F2;" id="a475">    p </span><span style="color: #F92672;" id="a476">=</span><span style="color: #F8F8F2;" id="a477"> subprocess.Popen([</span><span style="color: #E6DB74;" id="a478">'pbcopy'</span><span style="color: #F8F8F2;" id="a479">], </span><span style="color: #FD971F;" id="a480">stdin</span><span style="color: #F92672;" id="a481">=</span><span style="color: #F8F8F2;" id="a482">subprocess.</span><span style="color: #AE81FF;" id="a483">PIPE</span><span style="color: #F8F8F2;" id="a484">)</span></div><div class="line" id="a485">&nbsp;</div><div class="line" id="a486"><span style="color: #F8F8F2;" id="a487">    p.stdin.write(data.encode(</span><span style="color: #E6DB74;" id="a488">"utf-8"</span><span style="color: #F8F8F2;" id="a489">))</span></div><div class="line" id="a490">&nbsp;</div><div class="line" id="a491"><span style="color: #F8F8F2;" id="a492">    p.stdin.close()</span></div><div class="line" id="a493">&nbsp;</div><div class="line" id="a494"><span style="color: #F8F8F2;" id="a495">    p.communicate()</span></div><div class="line" id="a496">&nbsp;</div><div class="line" id="a497"><span style="color: #88846F;" id="a498"># 判断是否是图片</span></div><div class="line" id="a499"><span style="color: #66D9EF;" id="a500">def</span><span style="color: #F8F8F2;" id="a501"> </span><span style="color: #A6E22E;" id="a502">isImage</span><span style="color: #F8F8F2;" id="a503">(</span><span style="color: #FD971F;" id="a504">extension</span><span style="color: #F8F8F2;" id="a505">):</span></div><div class="line" id="a506"><span style="color: #F8F8F2;" id="a507">    </span><span style="color: #F92672;" id="a508">return</span><span style="color: #F8F8F2;" id="a509"> extension </span><span style="color: #F92672;" id="a510">in</span><span style="color: #F8F8F2;" id="a511"> [</span><span style="color: #E6DB74;" id="a512">".png"</span><span style="color: #F8F8F2;" id="a513">, </span><span style="color: #E6DB74;" id="a514">".jpeg"</span><span style="color: #F8F8F2;" id="a515">, </span><span style="color: #E6DB74;" id="a516">".gif"</span><span style="color: #F8F8F2;" id="a517">, </span><span style="color: #E6DB74;" id="a518">"jpg"</span><span style="color: #F8F8F2;" id="a519">]</span></div><div class="line" id="a520">&nbsp;</div><div class="line" id="a521"><span style="color: #88846F;" id="a522"># 按照 jsdelivr 的规则构建 url</span></div><div class="line" id="a523"><span style="color: #66D9EF;" id="a524">def</span><span style="color: #F8F8F2;" id="a525"> </span><span style="color: #A6E22E;" id="a526">buildUrl</span><span style="color: #F8F8F2;" id="a527">(</span><span style="color: #FD971F;" id="a528">filename</span><span style="color: #F8F8F2;" id="a529">, </span><span style="color: #FD971F;" id="a530">extension</span><span style="color: #F8F8F2;" id="a531">):</span></div><div class="line" id="a532"><span style="color: #F8F8F2;" id="a533">    url </span><span style="color: #F92672;" id="a534">=</span><span style="color: #F8F8F2;" id="a535"> </span><span style="color: #E6DB74;" id="a536">"https://cdn.jsdelivr.net/gh/[yourGithubName]/[yourRepository]@[theBranch]/"</span><span style="color: #F8F8F2;" id="a537"> </span><span style="color: #F92672;" id="a538">+</span><span style="color: #F8F8F2;" id="a539"> filename</span></div><div class="line" id="a540">&nbsp;</div><div class="line" id="a541"><span style="color: #F8F8F2;" id="a542">    </span><span style="color: #F92672;" id="a543">if</span><span style="color: #F8F8F2;" id="a544"> isImage(extension):</span></div><div class="line" id="a545"><span style="color: #F8F8F2;" id="a546">        url </span><span style="color: #F92672;" id="a547">=</span><span style="color: #F8F8F2;" id="a548"> markdown(url)</span></div><div class="line" id="a549">&nbsp;</div><div class="line" id="a550"><span style="color: #F8F8F2;" id="a551">    </span><span style="color: #F92672;" id="a552">return</span><span style="color: #F8F8F2;" id="a553"> url</span></div><div class="line" id="a554">&nbsp;</div><div class="line" id="a555"><span style="color: #88846F;" id="a556"># 按照 markdown 语法拼接 url</span></div><div class="line" id="a557"><span style="color: #66D9EF;" id="a558">def</span><span style="color: #F8F8F2;" id="a559"> </span><span style="color: #A6E22E;" id="a560">markdown</span><span style="color: #F8F8F2;" id="a561">(</span><span style="color: #FD971F;" id="a562">url</span><span style="color: #F8F8F2;" id="a563">):</span></div><div class="line" id="a564"><span style="color: #F8F8F2;" id="a565">    </span><span style="color: #F92672;" id="a566">return</span><span style="color: #F8F8F2;" id="a567"> </span><span style="color: #E6DB74;" id="a568">") name="</span><span style="color: #F8F8F2;" id="a569"> </span><span style="color: #F92672;" id="a570">+</span><span style="color: #F8F8F2;" id="a571"> url </span><span style="color: #F92672;" id="a572">+</span><span style="color: #F8F8F2;" id="a573"> </span><span style="color: #E6DB74;" id="a574">") url=https://storage.roamnote.com:8000/"</span><span style="color: #F8F8F2;" id="a575"> </span><span style="color: #F92672;" id="a576">+</span><span style="color: #F8F8F2;" id="a577"> url </span><span style="color: #F92672;" id="a578">+</span><span style="color: #F8F8F2;" id="a579"> </span><span style="color: #E6DB74;" id="a580">")&gt;</span></div><div class="line" id="a581">&nbsp;</div><div class="line" id="a582"><span style="color: #F92672;" id="a583">if</span><span style="color: #F8F8F2;" id="a584"> __name__ </span><span style="color: #F92672;" id="a585">==</span><span style="color: #F8F8F2;" id="a586"> </span><span style="color: #E6DB74;" id="a587">'__main__'</span><span style="color: #F8F8F2;" id="a588">:</span></div><div class="line" id="a589"><span style="color: #F8F8F2;" id="a590">    path </span><span style="color: #F92672;" id="a591">=</span><span style="color: #F8F8F2;" id="a592"> getPath()</span></div><div class="line" id="a593">&nbsp;</div><div class="line" id="a594"><span style="color: #F8F8F2;" id="a595">    </span><span style="color: #F92672;" id="a596">if</span><span style="color: #F8F8F2;" id="a597"> path </span><span style="color: #F92672;" id="a598">is</span><span style="color: #F8F8F2;" id="a599"> </span><span style="color: #AE81FF;" id="a600">None</span><span style="color: #F8F8F2;" id="a601">:</span></div><div class="line" id="a602"><span style="color: #F8F8F2;" id="a603">        toast </span><span style="color: #F92672;" id="a604">=</span><span style="color: #F8F8F2;" id="a605"> handleClipboard()</span></div><div class="line" id="a606"><span style="color: #F8F8F2;" id="a607">    </span><span style="color: #F92672;" id="a608">else</span><span style="color: #F8F8F2;" id="a609">:</span></div><div class="line" id="a610"><span style="color: #F8F8F2;" id="a611">        toast </span><span style="color: #F92672;" id="a612">=</span><span style="color: #F8F8F2;" id="a613"> handleLocalFile(path)</span></div><div class="line" id="a614">&nbsp;</div><div class="line" id="a615"><span style="color: #F8F8F2;" id="a616">    </span><span style="color: #66D9EF;" id="a617">print</span><span style="color: #F8F8F2;" id="a618">(toast)</span></div></code></pre></div><h1 class="heading" id="配置项">配置项<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e9%a1%b9" id="a620"></a></h1><p id="a621"><span class="unwrap" id="a622">这个 Python 脚本其中的一些个人信息没有做成可配置的，需要手动改一下，改的时候把<strong id="a623">中括号</strong>去掉。</span></p><ul id="a624"><li id="a625">[yourGithubName]：github 的名字</li><li id="a626">[yourRepository]：存储文件的仓库名</li><li id="a627">[yourToken]：在<a href="https://github.com/settings/tokens/new" class="external-link" target="_blank" id="a628">这里</a>生成的 token，需要具有访问仓库的权限。<ul id="a629"><li id="a630"><img alt="20210430103955.png" src="https://storage.roamnote.com:8000/20210430103955.png" width="1620" style="aspect-ratio: 1620 / 820;" id="a631"></li></ul></li><li id="a632">[yourGithubEmail]：任意一个邮箱，通常填写的是提交人的邮箱。</li><li id="a633">[theBranch]：想要把文件存储到哪个分支，如果没有特殊需求，通常是 master 或者 main。</li></ul><h1 class="heading" id="安装-python-依赖">安装 python 依赖<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%ae%89%e8%a3%85-python-%e4%be%9d%e8%b5%96" id="a635"></a></h1><p id="a636"><span class="unwrap" id="a637">运行<code id="a638">pip3 install pyobjc</code>安装 <a href="https://pypi.org/project/pyobjc/" class="external-link" target="_blank" id="a639">pyobjc</a></span></p><p id="a640"><span class="unwrap" id="a641">运行<code id="a642">pip3 install Pillow</code>安装 <a href="https://pypi.org/project/Pillow/" class="external-link" target="_blank" id="a643">Pillow</a></span></p><ul id="a644"><li id="a645">pyobjc：一个 Python 和 Object-C 之间的桥梁，可以在 Python 中使用 <a href="https://developer.apple.com/documentation/appkit" class="external-link" target="_blank" id="a646">AppKit</a> 提供的功能，例如访问剪切板。</li><li id="a647">Pillow：一个 Python 的图像处理库</li></ul><p id="a648"><span class="unwrap" id="a649">这两个库的功能可能重复了，pyobjc 可能也具备处理图像的功能，但是我没有深入研究。</span></p><h1 class="heading" id="在命令行运行脚本上传文件">在命令行运行脚本上传文件<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%9c%a8%e5%91%bd%e4%bb%a4%e8%a1%8c%e8%bf%90%e8%a1%8c%e8%84%9a%e6%9c%ac%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" id="a651"></a></h1><p id="a652"><span class="unwrap" id="a653">配置好之后，这个脚本就可以使用了。使用截图工具截一张图片，然后在终端里运行<code id="a654">python3 /path-to-file/upload-file.py</code>，如果没出错，终端会返回提示信息。或者也可以在访达中复制一个已经存在的文件，然后运行脚本。</span></p><p id="a655"><span class="unwrap" id="a656">如果文件很大，上传花费的时间可能很久。另外由于 jsdelivr 的限制，好像是超过 20M 的文件，就不可以访问了。关于这一点，暂时没有好办法，只能尽可能的把图片或者文件控制在 20M 之内。</span></p><h1 class="heading" id="搭配-automator-使用">搭配 Automator 使用<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%90%ad%e9%85%8d-automator-%e4%bd%bf%e7%94%a8" id="a658"></a></h1><p id="a659"><span class="unwrap" id="a660">上面的脚本已经可以使用了，但是每次跑命令行依然很麻烦，苹果电脑提供了一个叫做 Automator(自动操作) 的软件，可以借助它来跑脚本。</span></p><h1 class="heading" id="新建快速操作">新建快速操作<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%96%b0%e5%bb%ba%e5%bf%ab%e9%80%9f%e6%93%8d%e4%bd%9c" id="a662"></a></h1><p id="a663"><span class="unwrap" id="a664">打开 Automator，新建一个快速操作：</span></p><p id="a665"><span class="unwrap" id="a666"><img alt="20210430105914.png" src="https://storage.roamnote.com:8000/20210430105914.png" width="1298" style="aspect-ratio: 1298 / 1180;" id="a667"></span></p><h1 class="heading" id="配置开始上传提示">配置开始上传提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%a7%8b%e4%b8%8a%e4%bc%a0%e6%8f%90%e7%a4%ba" id="a669"></a></h1><p id="a670"><span class="unwrap" id="a671">这一步的目的是让 AppleScript 弹出一个提示。</span></p><p id="a672"><span class="unwrap" id="a673">添加一个运行 AppleScript 脚本：</span></p><p id="a674"><span class="unwrap" id="a675"><img alt="20210430110059.png" src="https://storage.roamnote.com:8000/20210430110059.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a676"></span></p><p id="a677"><span class="unwrap" id="a678">在其中写上：</span></p><div class="highlight" id="a679"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a680"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a681"></button><code id="a682"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a683"><span style="color: #F8F8F2;" id="a684">on run {input, parameters}</span></div><div class="line" id="a685"><span style="color: #F8F8F2;" id="a686">    display notification "⬆️ 开始上传"</span></div><div class="line" id="a687"><span style="color: #F8F8F2;" id="a688">    return input</span></div><div class="line" id="a689"><span style="color: #F8F8F2;" id="a690">end run</span></div></code></pre></div><h1 class="heading" id="配置-shell-脚本">配置 shell 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae-shell-%e8%84%9a%e6%9c%ac" id="a692"></a></h1><p id="a693"><span class="unwrap" id="a694">增加一个运行 Shell 脚本(<strong id="a695">注意使用 <code id="a696">bash</code> 来执行脚本</strong>)：</span></p><p id="a697"><span class="unwrap" id="a698"><img alt="20210430110418.png" src="https://storage.roamnote.com:8000/20210430110418.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a699"></span></p><p id="a700"><span class="unwrap" id="a701">在其中写上：</span></p><div class="highlight" id="a702"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a703"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a704"></button><code id="a705"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a706"><span style="color: #F8F8F2;" id="a707">/usr/local/bin/python3 &lt;&lt;EOF</span></div><div class="line" id="a708">&nbsp;</div><div class="line" id="a709"><span style="color: #F8F8F2;" id="a710">把上一步中配置好的 Python 脚本复制到这里</span></div><div class="line" id="a711">&nbsp;</div><div class="line" id="a712"><span style="color: #F8F8F2;" id="a713">EOF</span></div></code></pre></div><p id="a714"><span class="unwrap" id="a715">其中的 <code id="a716">/usr/local/bin/python3 &lt;&lt;EOF</code>和 <code id="a717">EOF</code>写法是一个 Hack，如果直接选择使用 python 执行，会出现找不到 Python 第三方库的情况，所以用了这个 Hack 的办法。</span></p><p id="a718"><span class="unwrap" id="a719"><img alt="20210511132828.png" src="https://storage.roamnote.com:8000/20210511132828.png" width="396" style="aspect-ratio: 396 / 472;" id="a720"></span></p><h1 class="heading" id="配置上传结束提示">配置上传结束提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e4%b8%8a%e4%bc%a0%e7%bb%93%e6%9d%9f%e6%8f%90%e7%a4%ba" id="a722"></a></h1><p id="a723"><span class="unwrap" id="a724">这一步的目的是显示 Python 脚本返回的字符串，方便判断图片是否上传成功。</span></p><p id="a725"><span class="unwrap" id="a726"><img alt="20210430204504.png" src="https://storage.roamnote.com:8000/20210430204504.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a727"></span></p><p id="a728"><span class="unwrap" id="a729">新增一个运行 AppleScript 脚本，在其中写上：</span></p><div class="highlight" id="a730"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a731"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: var(--green)';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a732"></button><code id="a733"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a734"><span style="color: #F8F8F2;" id="a735">on run {input, parameters}</span></div><div class="line" id="a736"><span style="color: #F8F8F2;" id="a737">  -- 使用消息通知显示 python 输出的字符串</span></div><div class="line" id="a738"><span style="color: #F8F8F2;" id="a739">    display notification input as string</span></div><div class="line" id="a740"><span style="color: #F8F8F2;" id="a741">    return input</span></div><div class="line" id="a742"><span style="color: #F8F8F2;" id="a743">end run</span></div></code></pre></div><p id="a744"><span class="unwrap" id="a745">最后保存文件(默认保存位置是<code id="a746">~/Library/Services</code>)，到此已经配置完成。</span></p><h1 class="heading" id="设置快捷键">设置快捷键<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e8%ae%be%e7%bd%ae%e5%bf%ab%e6%8d%b7%e9%94%ae" id="a748"></a></h1><p id="a749"><span class="unwrap" id="a750">可以在设置中，为刚才创建的服务设置一个快捷键。</span></p><p id="a751"><span class="unwrap" id="a752"><img src="20210430112305.png" alt="image-20210430111422275" id="a753"></span></p></article><div class="back-links"><details open=""><summary>Play With Code (1)</summary><a href="/play-with-code/#a12"><img src="data:image/jpeg;base64,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"></a></details></div></main><aside id="right-aside"><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav></aside></div></body></html>