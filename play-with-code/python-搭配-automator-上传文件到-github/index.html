<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:"><title>Python 搭配 Automator 上传文件到 Github</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{moveBreadcrumb(),closeTocWhenScroll(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body style=""><header hidden=""><nav id="Breadcrumb"><a href="/" title="漫游笔记" data-short-title="🏠"><span>🏠 漫游笔记</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" title="Python 搭配 Automator 上传文件到 Github" data-short-title="Pyth"><span id="LastBreadcrumb" title="Python 搭配 Automator 上传文件到 Github">Python 搭配 Automator 上传文件到 Github</span></a></nav><div id="Toolbar" data-nosnippet=""><details id="TocButton"><summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></summary><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav><div id="TocHeaderMask"></div></details><button id="SearchButton">🔍</button></div></header><div id="SearchBox" data-nosnippet=""><input id="SearchInput" tabindex="0" autocomplete="off" placeholder="搜索"><div id="SearchToolBar"></div><div id="SearchResults" class="no-hover"></div></div><picture hidden=""><source srcset="https://storage.roamnote.com:8000/hero-w4000.jpg,
https://storage.roamnote.com:8000/hero-w8000.jpg 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.jpg,
https://storage.roamnote.com:8000/hero-w4000.jpg 2x" media="(min-width: 750px)"><source srcset="https://storage.roamnote.com:8000/hero-w1000.jpg,
https://storage.roamnote.com:8000/hero-w2000.jpg 2x" media="(min-width: 390px)"><source srcset="https://storage.roamnote.com:8000/hero-w4000.avif,
https://storage.roamnote.com:8000/hero-w8000.avif 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.avif,
https://storage.roamnote.com:8000/hero-w4000.avif 2x" media="(min-width: 750px)"><img srcset="https://storage.roamnote.com:8000/hero-w1000.avif,
https://storage.roamnote.com:8000/hero-w2000.avif 2x" alt="漫游笔记" width="1920" style="aspect-ratio:1920/441"></picture><main><article pageurl="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/" pagetitle="Python 搭配 Automator 上传文件到 Github"><h1 id="a0">Python 搭配 Automator 上传文件到 Github</h1><time id="UpdateDate">2024年01月22日</time><aside id="TocArticle"><nav id="TableOfContents"><ul id="a4"><li id="a5"><a href="#效果" id="a6">效果</a></li><li id="a7"><a href="#python-脚本" id="a8">Python 脚本</a></li><li id="a9"><a href="#配置项" id="a10">配置项</a></li><li id="a11"><a href="#安装-python-依赖" id="a12">安装 python 依赖</a></li><li id="a13"><a href="#在命令行运行脚本上传文件" id="a14">在命令行运行脚本上传文件</a></li><li id="a15"><a href="#搭配-automator-使用" id="a16">搭配 Automator 使用</a></li><li id="a17"><a href="#新建快速操作" id="a18">新建快速操作</a></li><li id="a19"><a href="#配置开始上传提示" id="a20">配置开始上传提示</a></li><li id="a21"><a href="#配置-shell-脚本" id="a22">配置 shell 脚本</a></li><li id="a23"><a href="#配置上传结束提示" id="a24">配置上传结束提示</a></li><li id="a25"><a href="#设置快捷键" id="a26">设置快捷键</a></li></ul></nav></aside><p id="a28"><span class="unwrap" id="a29">自从写博客以来，一直有上传图片的需求，一开始用第三方图床，例如微博等等，其缺点是图片不属于自己，某一天可能就无法访问了。后来也折腾过腾讯、阿里的对象存储。直到后来发现可以把文件存在 github 上，再配合 jsdelivr 的 CDN，在国内访问速度也挺快。</span></p><p id="a30"><span class="unwrap" id="a31">至于上传图片的工具，用过 <a href="https://apps.apple.com/cn/app/ipic-markdown-%E5%9B%BE%E5%BA%8A%E5%B7%A5%E5%85%B7/id1101244278?mt=12" class="external-link" target="_blank" id="a32">iPic</a>、<a href="https://github.com/gee1k/uPic" class="external-link" target="_blank" id="a33">uPic</a>、<a href="https://molunerfinn.com/PicGo/" class="external-link" target="_blank" id="a34">picGo</a>，其中 iPic 是付费的，他们的好处是支持不同的图床、配置方便、不需要折腾。</span></p><p id="a35"><span class="unwrap" id="a36">本着断舍离的原则，我写了一个 Python 脚本，配合系统自带的 Automator ，实现了把文件夹里的<strong id="a37">文件</strong>（含图片）、微信群里的图片或者剪切板的图片上传到 github，如果开了"接力"功能，也可以上传在手机里复制图片。</span></p><h2 class="heading" id="效果">效果<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%95%88%e6%9e%9c" id="a39"></a></h2><p id="a40"><span class="unwrap" id="a41"><img alt="20220916010307.gif" src="https://storage.roamnote.com:8000/20220916010307.gif" width="900" style="aspect-ratio: 900 / 563;" id="a42"></span></p><h2 class="heading" id="python-脚本">Python 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#python-%e8%84%9a%e6%9c%ac" id="a44"></a></h2><p id="a45"><span class="unwrap" id="a46">在电脑上新建一个 Python 文件，例如<code id="a47">upload-file.py</code>，把下面的内容复制进去。</span></p><div class="highlight" id="a48"><pre tabindex="0" style="overflow: hidden;" class="torchlight" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a49"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a50"></button><code class="language-python" data-lang="python" id="a51"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a52"><span style="color: #F92672;" id="a53">import</span><span style="color: #F8F8F2;" id="a54"> io</span></div><div class="line" id="a55"><span style="color: #F92672;" id="a56">import</span><span style="color: #F8F8F2;" id="a57"> os</span></div><div class="line" id="a58"><span style="color: #F92672;" id="a59">import</span><span style="color: #F8F8F2;" id="a60"> re</span></div><div class="line" id="a61"><span style="color: #F92672;" id="a62">import</span><span style="color: #F8F8F2;" id="a63"> json</span></div><div class="line" id="a64"><span style="color: #F92672;" id="a65">import</span><span style="color: #F8F8F2;" id="a66"> time</span></div><div class="line" id="a67"><span style="color: #F92672;" id="a68">import</span><span style="color: #F8F8F2;" id="a69"> base64</span></div><div class="line" id="a70"><span style="color: #F92672;" id="a71">import</span><span style="color: #F8F8F2;" id="a72"> requests</span></div><div class="line" id="a73"><span style="color: #F92672;" id="a74">import</span><span style="color: #F8F8F2;" id="a75"> subprocess</span></div><div class="line" id="a76">&nbsp;</div><div class="line" id="a77"><span style="color: #F92672;" id="a78">from</span><span style="color: #F8F8F2;" id="a79"> urllib </span><span style="color: #F92672;" id="a80">import</span><span style="color: #F8F8F2;" id="a81"> parse</span></div><div class="line" id="a82"><span style="color: #88846F;" id="a83"># Pillow</span></div><div class="line" id="a84"><span style="color: #F92672;" id="a85">from</span><span style="color: #F8F8F2;" id="a86"> </span><span style="color: #AE81FF;" id="a87">PIL</span><span style="color: #F8F8F2;" id="a88"> </span><span style="color: #F92672;" id="a89">import</span><span style="color: #F8F8F2;" id="a90"> Image, ImageGrab</span></div><div class="line" id="a91"><span style="color: #88846F;" id="a92"># PyObjC</span></div><div class="line" id="a93"><span style="color: #F92672;" id="a94">from</span><span style="color: #F8F8F2;" id="a95"> AppKit </span><span style="color: #F92672;" id="a96">import</span><span style="color: #F8F8F2;" id="a97"> NSPasteboard, NSURLPboardType</span></div><div class="line" id="a98">&nbsp;</div><div class="line" id="a99"><span style="color: #88846F;" id="a100"># 从剪切板获取完整的文件路径</span></div><div class="line" id="a101"><span style="color: #66D9EF;" id="a102">def</span><span style="color: #F8F8F2;" id="a103"> </span><span style="color: #A6E22E;" id="a104">getPath</span><span style="color: #F8F8F2;" id="a105">():</span></div><div class="line" id="a106"><span style="color: #F8F8F2;" id="a107">    </span><span style="color: #88846F;" id="a108"># https://developer.apple.com/documentation/appkit/nspasteboard/pasteboardtype</span></div><div class="line" id="a109"><span style="color: #F8F8F2;" id="a110">    pb </span><span style="color: #F92672;" id="a111">=</span><span style="color: #F8F8F2;" id="a112"> NSPasteboard.generalPasteboard()</span></div><div class="line" id="a113">&nbsp;</div><div class="line" id="a114"><span style="color: #F8F8F2;" id="a115">    url </span><span style="color: #F92672;" id="a116">=</span><span style="color: #F8F8F2;" id="a117"> pb.stringForType_(NSURLPboardType)</span></div><div class="line" id="a118">&nbsp;</div><div class="line" id="a119"><span style="color: #F8F8F2;" id="a120">    </span><span style="color: #F92672;" id="a121">if</span><span style="color: #F8F8F2;" id="a122"> url </span><span style="color: #F92672;" id="a123">is</span><span style="color: #F8F8F2;" id="a124"> </span><span style="color: #AE81FF;" id="a125">None</span><span style="color: #F8F8F2;" id="a126">:</span></div><div class="line" id="a127"><span style="color: #F8F8F2;" id="a128">        </span><span style="color: #F92672;" id="a129">return</span><span style="color: #F8F8F2;" id="a130"> </span><span style="color: #AE81FF;" id="a131">None</span></div><div class="line" id="a132"><span style="color: #F8F8F2;" id="a133">    </span><span style="color: #F92672;" id="a134">else</span><span style="color: #F8F8F2;" id="a135">:</span></div><div class="line" id="a136"><span style="color: #F8F8F2;" id="a137">        plistBytes </span><span style="color: #F92672;" id="a138">=</span><span style="color: #F8F8F2;" id="a139"> url.encode(</span><span style="color: #E6DB74;" id="a140">"utf-8"</span><span style="color: #F8F8F2;" id="a141">)</span></div><div class="line" id="a142"><span style="color: #F8F8F2;" id="a143">        pathByte </span><span style="color: #F92672;" id="a144">=</span><span style="color: #F8F8F2;" id="a145"> re.findall(</span><span style="color: #66D9EF;" id="a146">rb</span><span style="color: #E6DB74;" id="a147">'&lt;string&gt;file://(.</span><span style="color: #F92672;" id="a148">+?</span><span style="color: #E6DB74;" id="a149">)&lt;/string&gt;'</span><span style="color: #F8F8F2;" id="a150">, plistBytes)[</span><span style="color: #AE81FF;" id="a151">0</span><span style="color: #F8F8F2;" id="a152">]</span></div><div class="line" id="a153"><span style="color: #F8F8F2;" id="a154">        pathUTF8 </span><span style="color: #F92672;" id="a155">=</span><span style="color: #F8F8F2;" id="a156"> pathByte.decode(</span><span style="color: #E6DB74;" id="a157">'utf-8'</span><span style="color: #F8F8F2;" id="a158">)</span></div><div class="line" id="a159"><span style="color: #F8F8F2;" id="a160">        </span><span style="color: #F92672;" id="a161">return</span><span style="color: #F8F8F2;" id="a162"> parse.unquote(pathUTF8)</span></div><div class="line" id="a163">&nbsp;</div><div class="line" id="a164"><span style="color: #88846F;" id="a165"># 把数据推送到 github</span></div><div class="line" id="a166"><span style="color: #66D9EF;" id="a167">def</span><span style="color: #F8F8F2;" id="a168"> </span><span style="color: #A6E22E;" id="a169">push</span><span style="color: #F8F8F2;" id="a170">(</span><span style="color: #FD971F;" id="a171">base64</span><span style="color: #F8F8F2;" id="a172">, </span><span style="color: #FD971F;" id="a173">filename</span><span style="color: #F8F8F2;" id="a174">):</span></div><div class="line" id="a175"><span style="color: #F8F8F2;" id="a176">    url </span><span style="color: #F92672;" id="a177">=</span><span style="color: #F8F8F2;" id="a178"> </span><span style="color: #E6DB74;" id="a179">"https://api.github.com/repos/[yourGithubName]/[yourRepository]/contents/"</span><span style="color: #F8F8F2;" id="a180"> </span><span style="color: #F92672;" id="a181">+</span><span style="color: #F8F8F2;" id="a182"> filename</span></div><div class="line" id="a183">&nbsp;</div><div class="line" id="a184"><span style="color: #F8F8F2;" id="a185">    headers </span><span style="color: #F92672;" id="a186">=</span><span style="color: #F8F8F2;" id="a187"> {</span><span style="color: #E6DB74;" id="a188">"Authorization"</span><span style="color: #F8F8F2;" id="a189">: </span><span style="color: #E6DB74;" id="a190">"token [yourToken]"</span><span style="color: #F8F8F2;" id="a191">}</span></div><div class="line" id="a192">&nbsp;</div><div class="line" id="a193"><span style="color: #F8F8F2;" id="a194">    data </span><span style="color: #F92672;" id="a195">=</span><span style="color: #F8F8F2;" id="a196"> json.dumps({</span></div><div class="line" id="a197"><span style="color: #F8F8F2;" id="a198">        </span><span style="color: #E6DB74;" id="a199">"message"</span><span style="color: #F8F8F2;" id="a200">: </span><span style="color: #E6DB74;" id="a201">"auto commit"</span><span style="color: #F8F8F2;" id="a202">,</span></div><div class="line" id="a203"><span style="color: #F8F8F2;" id="a204">        </span><span style="color: #E6DB74;" id="a205">"committer"</span><span style="color: #F8F8F2;" id="a206">: {</span></div><div class="line" id="a207"><span style="color: #F8F8F2;" id="a208">            </span><span style="color: #E6DB74;" id="a209">"name"</span><span style="color: #F8F8F2;" id="a210">: </span><span style="color: #E6DB74;" id="a211">"[yourName]"</span><span style="color: #F8F8F2;" id="a212">,</span></div><div class="line" id="a213"><span style="color: #F8F8F2;" id="a214">            </span><span style="color: #E6DB74;" id="a215">"email"</span><span style="color: #F8F8F2;" id="a216">: </span><span style="color: #E6DB74;" id="a217">"[yourEmail]"</span></div><div class="line" id="a218"><span style="color: #F8F8F2;" id="a219">        },</span></div><div class="line" id="a220"><span style="color: #F8F8F2;" id="a221">        </span><span style="color: #E6DB74;" id="a222">"content"</span><span style="color: #F8F8F2;" id="a223">: base64</span></div><div class="line" id="a224"><span style="color: #F8F8F2;" id="a225">    })</span></div><div class="line" id="a226">&nbsp;</div><div class="line" id="a227"><span style="color: #F8F8F2;" id="a228">    response </span><span style="color: #F92672;" id="a229">=</span><span style="color: #F8F8F2;" id="a230"> requests.put(</span><span style="color: #FD971F;" id="a231">url</span><span style="color: #F92672;" id="a232">=</span><span style="color: #F8F8F2;" id="a233">url, </span><span style="color: #FD971F;" id="a234">data</span><span style="color: #F92672;" id="a235">=</span><span style="color: #F8F8F2;" id="a236">data, </span><span style="color: #FD971F;" id="a237">headers</span><span style="color: #F92672;" id="a238">=</span><span style="color: #F8F8F2;" id="a239">headers)</span></div><div class="line" id="a240">&nbsp;</div><div class="line" id="a241"><span style="color: #F8F8F2;" id="a242">    </span><span style="color: #F92672;" id="a243">return</span><span style="color: #F8F8F2;" id="a244"> response</span></div><div class="line" id="a245">&nbsp;</div><div class="line" id="a246"><span style="color: #88846F;" id="a247"># 从文件路径得到文件后缀</span></div><div class="line" id="a248"><span style="color: #66D9EF;" id="a249">def</span><span style="color: #F8F8F2;" id="a250"> </span><span style="color: #A6E22E;" id="a251">getExtension</span><span style="color: #F8F8F2;" id="a252">(</span><span style="color: #FD971F;" id="a253">path</span><span style="color: #F8F8F2;" id="a254">):</span></div><div class="line" id="a255"><span style="color: #F8F8F2;" id="a256">  </span><span style="color: #F92672;" id="a257">return</span><span style="color: #F8F8F2;" id="a258"> os.path.splitext(path)[</span><span style="color: #AE81FF;" id="a259">1</span><span style="color: #F8F8F2;" id="a260">]</span></div><div class="line" id="a261">&nbsp;</div><div class="line" id="a262"><span style="color: #88846F;" id="a263"># 用 Base64 对给定的 Bytes 进行编码</span></div><div class="line" id="a264"><span style="color: #66D9EF;" id="a265">def</span><span style="color: #F8F8F2;" id="a266"> </span><span style="color: #A6E22E;" id="a267">bytesToBase64</span><span style="color: #F8F8F2;" id="a268">(</span><span style="color: #FD971F;" id="a269">data</span><span style="color: #F8F8F2;" id="a270">):</span></div><div class="line" id="a271"><span style="color: #F8F8F2;" id="a272">    </span><span style="color: #F92672;" id="a273">return</span><span style="color: #F8F8F2;" id="a274"> base64.b64encode(data).decode(</span><span style="color: #E6DB74;" id="a275">'utf-8'</span><span style="color: #F8F8F2;" id="a276">)</span></div><div class="line" id="a277">&nbsp;</div><div class="line" id="a278"><span style="color: #88846F;" id="a279"># 拼接文件名</span></div><div class="line" id="a280"><span style="color: #66D9EF;" id="a281">def</span><span style="color: #F8F8F2;" id="a282"> </span><span style="color: #A6E22E;" id="a283">getFilename</span><span style="color: #F8F8F2;" id="a284">(</span><span style="color: #FD971F;" id="a285">extension</span><span style="color: #F8F8F2;" id="a286">):</span></div><div class="line" id="a287"><span style="color: #F8F8F2;" id="a288">    </span><span style="color: #F92672;" id="a289">return</span><span style="color: #F8F8F2;" id="a290"> time.strftime(</span><span style="color: #E6DB74;" id="a291">"%Y%m</span><span style="color: #AE81FF;" id="a292">%d</span><span style="color: #E6DB74;" id="a293">%H%M%S"</span><span style="color: #F8F8F2;" id="a294">, time.localtime()) </span><span style="color: #F92672;" id="a295">+</span><span style="color: #F8F8F2;" id="a296"> extension</span></div><div class="line" id="a297">&nbsp;</div><div class="line" id="a298"><span style="color: #88846F;" id="a299"># 处理 github 返回的响应</span></div><div class="line" id="a300"><span style="color: #66D9EF;" id="a301">def</span><span style="color: #F8F8F2;" id="a302"> </span><span style="color: #A6E22E;" id="a303">handleResponse</span><span style="color: #F8F8F2;" id="a304">(</span><span style="color: #FD971F;" id="a305">response</span><span style="color: #F8F8F2;" id="a306">, </span><span style="color: #FD971F;" id="a307">filename</span><span style="color: #F8F8F2;" id="a308">, </span><span style="color: #FD971F;" id="a309">extension</span><span style="color: #F8F8F2;" id="a310">):</span></div><div class="line" id="a311"><span style="color: #F8F8F2;" id="a312">    </span><span style="color: #F92672;" id="a313">if</span><span style="color: #F8F8F2;" id="a314"> response.status_code </span><span style="color: #F92672;" id="a315">==</span><span style="color: #F8F8F2;" id="a316"> </span><span style="color: #AE81FF;" id="a317">201</span><span style="color: #F8F8F2;" id="a318">:</span></div><div class="line" id="a319"><span style="color: #F8F8F2;" id="a320">        url </span><span style="color: #F92672;" id="a321">=</span><span style="color: #F8F8F2;" id="a322"> buildUrl(filename, extension)</span></div><div class="line" id="a323"><span style="color: #F8F8F2;" id="a324">        copyToClipboard(url)</span></div><div class="line" id="a325"><span style="color: #F8F8F2;" id="a326">        icon </span><span style="color: #F92672;" id="a327">=</span><span style="color: #F8F8F2;" id="a328"> </span><span style="color: #E6DB74;" id="a329">"✅"</span></div><div class="line" id="a330"><span style="color: #F8F8F2;" id="a331">    </span><span style="color: #F92672;" id="a332">else</span><span style="color: #F8F8F2;" id="a333">:</span></div><div class="line" id="a334"><span style="color: #F8F8F2;" id="a335">        icon </span><span style="color: #F92672;" id="a336">=</span><span style="color: #F8F8F2;" id="a337"> </span><span style="color: #E6DB74;" id="a338">"❌"</span></div><div class="line" id="a339">&nbsp;</div><div class="line" id="a340"><span style="color: #F8F8F2;" id="a341">    </span><span style="color: #F92672;" id="a342">return</span><span style="color: #F8F8F2;" id="a343"> icon </span><span style="color: #F92672;" id="a344">+</span><span style="color: #F8F8F2;" id="a345"> </span><span style="color: #E6DB74;" id="a346">" "</span><span style="color: #F8F8F2;" id="a347"> </span><span style="color: #F92672;" id="a348">+</span><span style="color: #F8F8F2;" id="a349"> response.reason</span></div><div class="line" id="a350">&nbsp;</div><div class="line" id="a351"><span style="color: #88846F;" id="a352"># 处理本地文件</span></div><div class="line" id="a353"><span style="color: #66D9EF;" id="a354">def</span><span style="color: #F8F8F2;" id="a355"> </span><span style="color: #A6E22E;" id="a356">handleLocalFile</span><span style="color: #F8F8F2;" id="a357">(</span><span style="color: #FD971F;" id="a358">path</span><span style="color: #F8F8F2;" id="a359">):</span></div><div class="line" id="a360"><span style="color: #F8F8F2;" id="a361">    </span><span style="color: #F92672;" id="a362">with</span><span style="color: #F8F8F2;" id="a363"> </span><span style="color: #66D9EF;" id="a364">open</span><span style="color: #F8F8F2;" id="a365">(path, </span><span style="color: #E6DB74;" id="a366">'rb'</span><span style="color: #F8F8F2;" id="a367">) </span><span style="color: #F92672;" id="a368">as</span><span style="color: #F8F8F2;" id="a369"> f:</span></div><div class="line" id="a370">&nbsp;</div><div class="line" id="a371"><span style="color: #F8F8F2;" id="a372">        extension </span><span style="color: #F92672;" id="a373">=</span><span style="color: #F8F8F2;" id="a374"> getExtension(path)</span></div><div class="line" id="a375">&nbsp;</div><div class="line" id="a376"><span style="color: #F8F8F2;" id="a377">        base64 </span><span style="color: #F92672;" id="a378">=</span><span style="color: #F8F8F2;" id="a379"> bytesToBase64(f.read())</span></div><div class="line" id="a380">&nbsp;</div><div class="line" id="a381"><span style="color: #F8F8F2;" id="a382">        filename </span><span style="color: #F92672;" id="a383">=</span><span style="color: #F8F8F2;" id="a384"> getFilename(extension)</span></div><div class="line" id="a385">&nbsp;</div><div class="line" id="a386"><span style="color: #F8F8F2;" id="a387">        response </span><span style="color: #F92672;" id="a388">=</span><span style="color: #F8F8F2;" id="a389"> push(base64, filename)</span></div><div class="line" id="a390">&nbsp;</div><div class="line" id="a391"><span style="color: #F8F8F2;" id="a392">        </span><span style="color: #F92672;" id="a393">return</span><span style="color: #F8F8F2;" id="a394"> handleResponse(response, filename, extension)</span></div><div class="line" id="a395">&nbsp;</div><div class="line" id="a396"><span style="color: #88846F;" id="a397"># 处理剪切板的文件，与本地文件不同的是，剪切板的文件好像是在内存中，它并没有一个文件路径(有待研究)</span></div><div class="line" id="a398"><span style="color: #66D9EF;" id="a399">def</span><span style="color: #F8F8F2;" id="a400"> </span><span style="color: #A6E22E;" id="a401">handleClipboard</span><span style="color: #F8F8F2;" id="a402">():</span></div><div class="line" id="a403"><span style="color: #F8F8F2;" id="a404">    image </span><span style="color: #F92672;" id="a405">=</span><span style="color: #F8F8F2;" id="a406"> ImageGrab.grabclipboard()</span></div><div class="line" id="a407">&nbsp;</div><div class="line" id="a408"><span style="color: #F8F8F2;" id="a409">    </span><span style="color: #F92672;" id="a410">if</span><span style="color: #F8F8F2;" id="a411"> </span><span style="color: #66D9EF;" id="a412">isinstance</span><span style="color: #F8F8F2;" id="a413">(image, Image.Image):</span></div><div class="line" id="a414">&nbsp;</div><div class="line" id="a415"><span style="color: #F8F8F2;" id="a416">        buffer </span><span style="color: #F92672;" id="a417">=</span><span style="color: #F8F8F2;" id="a418"> io.BytesIO()</span></div><div class="line" id="a419">&nbsp;</div><div class="line" id="a420"><span style="color: #F8F8F2;" id="a421">        imageFormat </span><span style="color: #F92672;" id="a422">=</span><span style="color: #F8F8F2;" id="a423"> </span><span style="color: #E6DB74;" id="a424">"png"</span></div><div class="line" id="a425">&nbsp;</div><div class="line" id="a426"><span style="color: #F8F8F2;" id="a427">        extension </span><span style="color: #F92672;" id="a428">=</span><span style="color: #F8F8F2;" id="a429"> </span><span style="color: #E6DB74;" id="a430">"."</span><span style="color: #F8F8F2;" id="a431"> </span><span style="color: #F92672;" id="a432">+</span><span style="color: #F8F8F2;" id="a433"> imageFormat</span></div><div class="line" id="a434">&nbsp;</div><div class="line" id="a435"><span style="color: #F8F8F2;" id="a436">        image.save(buffer, imageFormat)</span></div><div class="line" id="a437">&nbsp;</div><div class="line" id="a438"><span style="color: #F8F8F2;" id="a439">        base64 </span><span style="color: #F92672;" id="a440">=</span><span style="color: #F8F8F2;" id="a441"> bytesToBase64(buffer.getvalue())</span></div><div class="line" id="a442">&nbsp;</div><div class="line" id="a443"><span style="color: #F8F8F2;" id="a444">        filename </span><span style="color: #F92672;" id="a445">=</span><span style="color: #F8F8F2;" id="a446"> getFilename(extension)</span></div><div class="line" id="a447">&nbsp;</div><div class="line" id="a448"><span style="color: #F8F8F2;" id="a449">        response </span><span style="color: #F92672;" id="a450">=</span><span style="color: #F8F8F2;" id="a451"> push(base64, filename)</span></div><div class="line" id="a452">&nbsp;</div><div class="line" id="a453"><span style="color: #F8F8F2;" id="a454">        </span><span style="color: #F92672;" id="a455">return</span><span style="color: #F8F8F2;" id="a456"> handleResponse(response, filename, extension)</span></div><div class="line" id="a457"><span style="color: #F8F8F2;" id="a458">    </span><span style="color: #F92672;" id="a459">else</span><span style="color: #F8F8F2;" id="a460">:</span></div><div class="line" id="a461"><span style="color: #F8F8F2;" id="a462">        </span><span style="color: #F92672;" id="a463">return</span><span style="color: #F8F8F2;" id="a464"> </span><span style="color: #E6DB74;" id="a465">"❌ 剪切板的内容不是图片"</span></div><div class="line" id="a466">&nbsp;</div><div class="line" id="a467"><span style="color: #88846F;" id="a468"># 把给定的字符串复制到剪切板</span></div><div class="line" id="a469"><span style="color: #66D9EF;" id="a470">def</span><span style="color: #F8F8F2;" id="a471"> </span><span style="color: #A6E22E;" id="a472">copyToClipboard</span><span style="color: #F8F8F2;" id="a473">(</span><span style="color: #FD971F;" id="a474">data</span><span style="color: #F8F8F2;" id="a475">):</span></div><div class="line" id="a476"><span style="color: #F8F8F2;" id="a477">    p </span><span style="color: #F92672;" id="a478">=</span><span style="color: #F8F8F2;" id="a479"> subprocess.Popen([</span><span style="color: #E6DB74;" id="a480">'pbcopy'</span><span style="color: #F8F8F2;" id="a481">], </span><span style="color: #FD971F;" id="a482">stdin</span><span style="color: #F92672;" id="a483">=</span><span style="color: #F8F8F2;" id="a484">subprocess.</span><span style="color: #AE81FF;" id="a485">PIPE</span><span style="color: #F8F8F2;" id="a486">)</span></div><div class="line" id="a487">&nbsp;</div><div class="line" id="a488"><span style="color: #F8F8F2;" id="a489">    p.stdin.write(data.encode(</span><span style="color: #E6DB74;" id="a490">"utf-8"</span><span style="color: #F8F8F2;" id="a491">))</span></div><div class="line" id="a492">&nbsp;</div><div class="line" id="a493"><span style="color: #F8F8F2;" id="a494">    p.stdin.close()</span></div><div class="line" id="a495">&nbsp;</div><div class="line" id="a496"><span style="color: #F8F8F2;" id="a497">    p.communicate()</span></div><div class="line" id="a498">&nbsp;</div><div class="line" id="a499"><span style="color: #88846F;" id="a500"># 判断是否是图片</span></div><div class="line" id="a501"><span style="color: #66D9EF;" id="a502">def</span><span style="color: #F8F8F2;" id="a503"> </span><span style="color: #A6E22E;" id="a504">isImage</span><span style="color: #F8F8F2;" id="a505">(</span><span style="color: #FD971F;" id="a506">extension</span><span style="color: #F8F8F2;" id="a507">):</span></div><div class="line" id="a508"><span style="color: #F8F8F2;" id="a509">    </span><span style="color: #F92672;" id="a510">return</span><span style="color: #F8F8F2;" id="a511"> extension </span><span style="color: #F92672;" id="a512">in</span><span style="color: #F8F8F2;" id="a513"> [</span><span style="color: #E6DB74;" id="a514">".png"</span><span style="color: #F8F8F2;" id="a515">, </span><span style="color: #E6DB74;" id="a516">".jpeg"</span><span style="color: #F8F8F2;" id="a517">, </span><span style="color: #E6DB74;" id="a518">".gif"</span><span style="color: #F8F8F2;" id="a519">, </span><span style="color: #E6DB74;" id="a520">"jpg"</span><span style="color: #F8F8F2;" id="a521">]</span></div><div class="line" id="a522">&nbsp;</div><div class="line" id="a523"><span style="color: #88846F;" id="a524"># 按照 jsdelivr 的规则构建 url</span></div><div class="line" id="a525"><span style="color: #66D9EF;" id="a526">def</span><span style="color: #F8F8F2;" id="a527"> </span><span style="color: #A6E22E;" id="a528">buildUrl</span><span style="color: #F8F8F2;" id="a529">(</span><span style="color: #FD971F;" id="a530">filename</span><span style="color: #F8F8F2;" id="a531">, </span><span style="color: #FD971F;" id="a532">extension</span><span style="color: #F8F8F2;" id="a533">):</span></div><div class="line" id="a534"><span style="color: #F8F8F2;" id="a535">    url </span><span style="color: #F92672;" id="a536">=</span><span style="color: #F8F8F2;" id="a537"> </span><span style="color: #E6DB74;" id="a538">"https://cdn.jsdelivr.net/gh/[yourGithubName]/[yourRepository]@[theBranch]/"</span><span style="color: #F8F8F2;" id="a539"> </span><span style="color: #F92672;" id="a540">+</span><span style="color: #F8F8F2;" id="a541"> filename</span></div><div class="line" id="a542">&nbsp;</div><div class="line" id="a543"><span style="color: #F8F8F2;" id="a544">    </span><span style="color: #F92672;" id="a545">if</span><span style="color: #F8F8F2;" id="a546"> isImage(extension):</span></div><div class="line" id="a547"><span style="color: #F8F8F2;" id="a548">        url </span><span style="color: #F92672;" id="a549">=</span><span style="color: #F8F8F2;" id="a550"> markdown(url)</span></div><div class="line" id="a551">&nbsp;</div><div class="line" id="a552"><span style="color: #F8F8F2;" id="a553">    </span><span style="color: #F92672;" id="a554">return</span><span style="color: #F8F8F2;" id="a555"> url</span></div><div class="line" id="a556">&nbsp;</div><div class="line" id="a557"><span style="color: #88846F;" id="a558"># 按照 markdown 语法拼接 url</span></div><div class="line" id="a559"><span style="color: #66D9EF;" id="a560">def</span><span style="color: #F8F8F2;" id="a561"> </span><span style="color: #A6E22E;" id="a562">markdown</span><span style="color: #F8F8F2;" id="a563">(</span><span style="color: #FD971F;" id="a564">url</span><span style="color: #F8F8F2;" id="a565">):</span></div><div class="line" id="a566"><span style="color: #F8F8F2;" id="a567">    </span><span style="color: #F92672;" id="a568">return</span><span style="color: #F8F8F2;" id="a569"> </span><span style="color: #E6DB74;" id="a570">") name="</span><span style="color: #F8F8F2;" id="a571"> </span><span style="color: #F92672;" id="a572">+</span><span style="color: #F8F8F2;" id="a573"> url </span><span style="color: #F92672;" id="a574">+</span><span style="color: #F8F8F2;" id="a575"> </span><span style="color: #E6DB74;" id="a576">") url=https://storage.roamnote.com:8000/"</span><span style="color: #F8F8F2;" id="a577"> </span><span style="color: #F92672;" id="a578">+</span><span style="color: #F8F8F2;" id="a579"> url </span><span style="color: #F92672;" id="a580">+</span><span style="color: #F8F8F2;" id="a581"> </span><span style="color: #E6DB74;" id="a582">")&gt;</span></div><div class="line" id="a583">&nbsp;</div><div class="line" id="a584"><span style="color: #F92672;" id="a585">if</span><span style="color: #F8F8F2;" id="a586"> __name__ </span><span style="color: #F92672;" id="a587">==</span><span style="color: #F8F8F2;" id="a588"> </span><span style="color: #E6DB74;" id="a589">'__main__'</span><span style="color: #F8F8F2;" id="a590">:</span></div><div class="line" id="a591"><span style="color: #F8F8F2;" id="a592">    path </span><span style="color: #F92672;" id="a593">=</span><span style="color: #F8F8F2;" id="a594"> getPath()</span></div><div class="line" id="a595">&nbsp;</div><div class="line" id="a596"><span style="color: #F8F8F2;" id="a597">    </span><span style="color: #F92672;" id="a598">if</span><span style="color: #F8F8F2;" id="a599"> path </span><span style="color: #F92672;" id="a600">is</span><span style="color: #F8F8F2;" id="a601"> </span><span style="color: #AE81FF;" id="a602">None</span><span style="color: #F8F8F2;" id="a603">:</span></div><div class="line" id="a604"><span style="color: #F8F8F2;" id="a605">        toast </span><span style="color: #F92672;" id="a606">=</span><span style="color: #F8F8F2;" id="a607"> handleClipboard()</span></div><div class="line" id="a608"><span style="color: #F8F8F2;" id="a609">    </span><span style="color: #F92672;" id="a610">else</span><span style="color: #F8F8F2;" id="a611">:</span></div><div class="line" id="a612"><span style="color: #F8F8F2;" id="a613">        toast </span><span style="color: #F92672;" id="a614">=</span><span style="color: #F8F8F2;" id="a615"> handleLocalFile(path)</span></div><div class="line" id="a616">&nbsp;</div><div class="line" id="a617"><span style="color: #F8F8F2;" id="a618">    </span><span style="color: #66D9EF;" id="a619">print</span><span style="color: #F8F8F2;" id="a620">(toast)</span></div></code></pre></div><h2 class="heading" id="配置项">配置项<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e9%a1%b9" id="a622"></a></h2><p id="a623"><span class="unwrap" id="a624">这个 Python 脚本其中的一些个人信息没有做成可配置的，需要手动改一下，改的时候把<strong id="a625">中括号</strong>去掉。</span></p><ul id="a626"><li id="a627">[yourGithubName]：github 的名字</li><li id="a628">[yourRepository]：存储文件的仓库名</li><li id="a629">[yourToken]：在<a href="https://github.com/settings/tokens/new" class="external-link" target="_blank" id="a630">这里</a>生成的 token，需要具有访问仓库的权限。<ul id="a631"><li id="a632"><img alt="20210430103955.png" src="https://storage.roamnote.com:8000/20210430103955.png" width="1620" style="aspect-ratio: 1620 / 820;" id="a633"></li></ul></li><li id="a634">[yourGithubEmail]：任意一个邮箱，通常填写的是提交人的邮箱。</li><li id="a635">[theBranch]：想要把文件存储到哪个分支，如果没有特殊需求，通常是 master 或者 main。</li></ul><h2 class="heading" id="安装-python-依赖">安装 python 依赖<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%ae%89%e8%a3%85-python-%e4%be%9d%e8%b5%96" id="a637"></a></h2><p id="a638"><span class="unwrap" id="a639">运行<code id="a640">pip3 install pyobjc</code>安装 <a href="https://pypi.org/project/pyobjc/" class="external-link" target="_blank" id="a641">pyobjc</a></span></p><p id="a642"><span class="unwrap" id="a643">运行<code id="a644">pip3 install Pillow</code>安装 <a href="https://pypi.org/project/Pillow/" class="external-link" target="_blank" id="a645">Pillow</a></span></p><ul id="a646"><li id="a647">pyobjc：一个 Python 和 Object-C 之间的桥梁，可以在 Python 中使用 <a href="https://developer.apple.com/documentation/appkit" class="external-link" target="_blank" id="a648">AppKit</a> 提供的功能，例如访问剪切板。</li><li id="a649">Pillow：一个 Python 的图像处理库</li></ul><p id="a650"><span class="unwrap" id="a651">这两个库的功能可能重复了，pyobjc 可能也具备处理图像的功能，但是我没有深入研究。</span></p><h2 class="heading" id="在命令行运行脚本上传文件">在命令行运行脚本上传文件<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e5%9c%a8%e5%91%bd%e4%bb%a4%e8%a1%8c%e8%bf%90%e8%a1%8c%e8%84%9a%e6%9c%ac%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" id="a653"></a></h2><p id="a654"><span class="unwrap" id="a655">配置好之后，这个脚本就可以使用了。使用截图工具截一张图片，然后在终端里运行<code id="a656">python3 /path-to-file/upload-file.py</code>，如果没出错，终端会返回提示信息。或者也可以在访达中复制一个已经存在的文件，然后运行脚本。</span></p><p id="a657"><span class="unwrap" id="a658">如果文件很大，上传花费的时间可能很久。另外由于 jsdelivr 的限制，好像是超过 20M 的文件，就不可以访问了。关于这一点，暂时没有好办法，只能尽可能的把图片或者文件控制在 20M 之内。</span></p><h2 class="heading" id="搭配-automator-使用">搭配 Automator 使用<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%90%ad%e9%85%8d-automator-%e4%bd%bf%e7%94%a8" id="a660"></a></h2><p id="a661"><span class="unwrap" id="a662">上面的脚本已经可以使用了，但是每次跑命令行依然很麻烦，苹果电脑提供了一个叫做 Automator(自动操作) 的软件，可以借助它来跑脚本。</span></p><h2 class="heading" id="新建快速操作">新建快速操作<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e6%96%b0%e5%bb%ba%e5%bf%ab%e9%80%9f%e6%93%8d%e4%bd%9c" id="a664"></a></h2><p id="a665"><span class="unwrap" id="a666">打开 Automator，新建一个快速操作：</span></p><p id="a667"><span class="unwrap" id="a668"><img alt="20210430105914.png" src="https://storage.roamnote.com:8000/20210430105914.png" width="1298" style="aspect-ratio: 1298 / 1180;" id="a669"></span></p><h2 class="heading" id="配置开始上传提示">配置开始上传提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e5%bc%80%e5%a7%8b%e4%b8%8a%e4%bc%a0%e6%8f%90%e7%a4%ba" id="a671"></a></h2><p id="a672"><span class="unwrap" id="a673">这一步的目的是让 AppleScript 弹出一个提示。</span></p><p id="a674"><span class="unwrap" id="a675">添加一个运行 AppleScript 脚本：</span></p><p id="a676"><span class="unwrap" id="a677"><img alt="20210430110059.png" src="https://storage.roamnote.com:8000/20210430110059.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a678"></span></p><p id="a679"><span class="unwrap" id="a680">在其中写上：</span></p><div class="highlight" id="a681"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a682"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a683"></button><code id="a684"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a685"><span style="color: #F8F8F2;" id="a686">on run {input, parameters}</span></div><div class="line" id="a687"><span style="color: #F8F8F2;" id="a688">    display notification "⬆️ 开始上传"</span></div><div class="line" id="a689"><span style="color: #F8F8F2;" id="a690">    return input</span></div><div class="line" id="a691"><span style="color: #F8F8F2;" id="a692">end run</span></div></code></pre></div><h2 class="heading" id="配置-shell-脚本">配置 shell 脚本<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae-shell-%e8%84%9a%e6%9c%ac" id="a694"></a></h2><p id="a695"><span class="unwrap" id="a696">增加一个运行 Shell 脚本(<strong id="a697">注意使用 <code id="a698">bash</code> 来执行脚本</strong>)：</span></p><p id="a699"><span class="unwrap" id="a700"><img alt="20210430110418.png" src="https://storage.roamnote.com:8000/20210430110418.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a701"></span></p><p id="a702"><span class="unwrap" id="a703">在其中写上：</span></p><div class="highlight" id="a704"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a705"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a706"></button><code id="a707"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a708"><span style="color: #F8F8F2;" id="a709">/usr/local/bin/python3 &lt;&lt;EOF</span></div><div class="line" id="a710">&nbsp;</div><div class="line" id="a711"><span style="color: #F8F8F2;" id="a712">把上一步中配置好的 Python 脚本复制到这里</span></div><div class="line" id="a713">&nbsp;</div><div class="line" id="a714"><span style="color: #F8F8F2;" id="a715">EOF</span></div></code></pre></div><p id="a716"><span class="unwrap" id="a717">其中的 <code id="a718">/usr/local/bin/python3 &lt;&lt;EOF</code>和 <code id="a719">EOF</code>写法是一个 Hack，如果直接选择使用 python 执行，会出现找不到 Python 第三方库的情况，所以用了这个 Hack 的办法。</span></p><p id="a720"><span class="unwrap" id="a721"><img alt="20210511132828.png" src="https://storage.roamnote.com:8000/20210511132828.png" width="396" style="aspect-ratio: 396 / 472;" id="a722"></span></p><h2 class="heading" id="配置上传结束提示">配置上传结束提示<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e9%85%8d%e7%bd%ae%e4%b8%8a%e4%bc%a0%e7%bb%93%e6%9d%9f%e6%8f%90%e7%a4%ba" id="a724"></a></h2><p id="a725"><span class="unwrap" id="a726">这一步的目的是显示 Python 脚本返回的字符串，方便判断图片是否上传成功。</span></p><p id="a727"><span class="unwrap" id="a728"><img alt="20210430204504.png" src="https://storage.roamnote.com:8000/20210430204504.png" width="3104" style="aspect-ratio: 3104 / 1804;" id="a729"></span></p><p id="a730"><span class="unwrap" id="a731">新增一个运行 AppleScript 脚本，在其中写上：</span></p><div class="highlight" id="a732"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a733"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a734"></button><code id="a735"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a736"><span style="color: #F8F8F2;" id="a737">on run {input, parameters}</span></div><div class="line" id="a738"><span style="color: #F8F8F2;" id="a739">  -- 使用消息通知显示 python 输出的字符串</span></div><div class="line" id="a740"><span style="color: #F8F8F2;" id="a741">    display notification input as string</span></div><div class="line" id="a742"><span style="color: #F8F8F2;" id="a743">    return input</span></div><div class="line" id="a744"><span style="color: #F8F8F2;" id="a745">end run</span></div></code></pre></div><p id="a746"><span class="unwrap" id="a747">最后保存文件(默认保存位置是<code id="a748">~/Library/Services</code>)，到此已经配置完成。</span></p><h2 class="heading" id="设置快捷键">设置快捷键<a class="heading-anchor" href="/play-with-code/python-%E6%90%AD%E9%85%8D-automator-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0-github/#%e8%ae%be%e7%bd%ae%e5%bf%ab%e6%8d%b7%e9%94%ae" id="a750"></a></h2><p id="a751"><span class="unwrap" id="a752">可以在设置中，为刚才创建的服务设置一个快捷键。</span></p><p id="a753"><span class="unwrap" id="a754"><img src="20210430112305.png" alt="image-20210430111422275" id="a755"></span></p></article><aside id="TocAside" data-nosnippet=""><style>@media(min-width:1201px) and (max-width:1500px){main{margin-left:calc(50% - 600px)!important}}</style><nav id="TableOfContents"><ul><li><a href="#效果">效果</a></li><li><a href="#python-脚本">Python 脚本</a></li><li><a href="#配置项">配置项</a></li><li><a href="#安装-python-依赖">安装 python 依赖</a></li><li><a href="#在命令行运行脚本上传文件">在命令行运行脚本上传文件</a></li><li><a href="#搭配-automator-使用">搭配 Automator 使用</a></li><li><a href="#新建快速操作">新建快速操作</a></li><li><a href="#配置开始上传提示">配置开始上传提示</a></li><li><a href="#配置-shell-脚本">配置 shell 脚本</a></li><li><a href="#配置上传结束提示">配置上传结束提示</a></li><li><a href="#设置快捷键">设置快捷键</a></li></ul></nav></aside><div id="BackLinks"><details open=""><summary>Play With Code (1)</summary><a href="/play-with-code/#a23"><img src="data:image/jpeg;base64,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"></a></details></div></main></body></html>