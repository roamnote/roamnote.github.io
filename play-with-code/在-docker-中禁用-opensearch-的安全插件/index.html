<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:"><title>在 docker 中禁用 opensearch 的安全插件</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{moveBreadcrumb(),closeTocWhenScroll(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body style=""><header><nav id="Breadcrumb"><a href="/" title="漫游笔记" data-short-title="🏠"><span>🏠 漫游笔记</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/%E5%9C%A8-docker-%E4%B8%AD%E7%A6%81%E7%94%A8-opensearch-%E7%9A%84%E5%AE%89%E5%85%A8%E6%8F%92%E4%BB%B6/" title="在 docker 中禁用 opensearch 的安全插件" data-short-title="在doc"><span id="LastBreadcrumb" title="在 docker 中禁用 opensearch 的安全插件">在 docker 中禁用 opensearch 的安全插件</span></a></nav><div id="Toolbar" data-nosnippet=""><button id="SearchButton">🔍</button></div></header><div id="SearchBox" data-nosnippet=""><input id="SearchInput" tabindex="0" autocomplete="off" placeholder="搜索"><div id="SearchToolBar"></div><div id="SearchResults" class="no-hover"></div></div><picture><source srcset="https://storage.roamnote.com:8000/hero-w4000.jpg,
https://storage.roamnote.com:8000/hero-w8000.jpg 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.jpg,
https://storage.roamnote.com:8000/hero-w4000.jpg 2x" media="(min-width: 750px)"><source srcset="https://storage.roamnote.com:8000/hero-w1000.jpg,
https://storage.roamnote.com:8000/hero-w2000.jpg 2x" media="(min-width: 390px)"><source srcset="https://storage.roamnote.com:8000/hero-w4000.avif,
https://storage.roamnote.com:8000/hero-w8000.avif 2x" media="(min-width: 990px)"><source srcset="https://storage.roamnote.com:8000/hero-w2000.avif,
https://storage.roamnote.com:8000/hero-w4000.avif 2x" media="(min-width: 750px)"><img srcset="https://storage.roamnote.com:8000/hero-w1000.avif,
https://storage.roamnote.com:8000/hero-w2000.avif 2x" alt="漫游笔记" width="1920" style="aspect-ratio:1920/441"></picture><main><article pageurl="/play-with-code/%E5%9C%A8-docker-%E4%B8%AD%E7%A6%81%E7%94%A8-opensearch-%E7%9A%84%E5%AE%89%E5%85%A8%E6%8F%92%E4%BB%B6/" pagetitle="在 docker 中禁用 opensearch 的安全插件"><h1 id="a0">在 docker 中禁用 opensearch 的安全插件</h1><time id="UpdateDate">2024年01月03日</time>
<a id="fixYOffset" class="internal-link" href="#" style=""></a><p id="a3"><span class="unwrap" id="a4">相关连接： <a href="https://opensearch.org/docs/latest/security/configuration/disable/" class="external-link" target="_blank" id="a5">https://opensearch.org/docs/latest/security/configuration/disable/</a></span></p><ul id="a6"><li id="a7">使用 <code id="a8">docker ps</code> 找到当前运行的 container 的 id，假设是 <code id="a9">657ba743c58d</code></li><li id="a10">使用 <code id="a11">docker exec -u0 -it 657ba743c58d /bin/bash</code> 登录到容器内部</li><li id="a12">找到 opensearch 的配置文件，通常是在 <code id="a13">/usr/share/opensearch/config/opensearch.yml</code>，参考 <a href="https://opensearch.org/docs/latest/install-and-configure/configuring-opensearch/index/#configuration-file" class="external-link" target="_blank" id="a14">https://opensearch.org/docs/latest/install-and-configure/configuring-opensearch/index/#configuration-file</a></li><li id="a15">然后使用 <code id="a16">/usr/share/opensearch/config/opensearch.yml</code> 编辑该文件，把 <code id="a17">plugins.security.disabled: true</code> 放到配置文件末尾，保存文件。<ul id="a18"><li id="a19">如果在编辑文件的时候，提示没有安装 vim，可以使用 <code id="a20">yum install -y vim</code> 安装一下 vim</li></ul></li><li id="a21">使用 <code id="a22">docker restart 657ba743c58d</code> 重启容器</li></ul></article></main></body></html>