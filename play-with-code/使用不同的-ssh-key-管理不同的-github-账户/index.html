<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text x='.07em' y='.82em' font-size='100'>📝</text></svg>"><title>使用不同的 ssh key 管理不同的 github 账户</title><link rel="stylesheet" href="https://storage.roamnote.com:8000/index.css"><script src="https://storage.roamnote.com:8000/fuse.js"></script>
<script src="https://storage.roamnote.com:8000/index.js"></script>
<script>window.onload=async()=>{moveBreadcrumb(),closeTocWhenScroll(),updateHeaderBgColor(),initialSearch("https://storage.roamnote.com:8000/index.json")}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QC2GM314WK"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QC2GM314WK")</script></head><body><header><nav id="Breadcrumb"><a href="/" title="漫游笔记" data-short-title="🏠"><span>🏠 漫游笔记</span></a>
<a href="/play-with-code/" title="Play With Code" data-short-title="Play"><span title="Play With Code">Play With Code</span></a>
<a href="/play-with-code/%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84-ssh-key-%E7%AE%A1%E7%90%86%E4%B8%8D%E5%90%8C%E7%9A%84-github-%E8%B4%A6%E6%88%B7/" title="使用不同的 ssh key 管理不同的 github 账户" data-short-title="使用不同"><span id="LastBreadcrumb" title="使用不同的 ssh key 管理不同的 github 账户">使用不同的 ssh key 管理不同的 github 账户</span></a></nav><div id="Toolbar" data-nosnippet=""><details id="TocButton"><summary><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></summary><nav id="TableOfContents"><ul><li><a href="#生成不同的-ssh-密钥对">生成不同的 ssh 密钥对</a></li><li><a href="#自定义域名别名与私钥的对应关系">自定义域名别名与私钥的对应关系</a></li><li><a href="#配置-fetch-url-和-push-url">配置 fetch url 和 push url</a></li></ul></nav><div id="TocHeaderMask"></div></details><button id="SearchButton">🔍</button></div></header><div id="SearchBox" data-nosnippet=""><input id="SearchInput" tabindex="0" autocomplete="off" placeholder="搜索"><div id="SearchToolBar"></div><div id="SearchResults" class="no-hover"></div></div><main><article pageurl="/play-with-code/%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84-ssh-key-%E7%AE%A1%E7%90%86%E4%B8%8D%E5%90%8C%E7%9A%84-github-%E8%B4%A6%E6%88%B7/" pagetitle="使用不同的 ssh key 管理不同的 github 账户"><h1 id="a0">使用不同的 ssh key 管理不同的 github 账户</h1><time id="UpdateDate">2024年01月19日</time><aside id="TocArticle"><nav id="TableOfContents"><ul id="a4"><li id="a5"><a href="#生成不同的-ssh-密钥对" id="a6">生成不同的 ssh 密钥对</a></li><li id="a7"><a href="#自定义域名别名与私钥的对应关系" id="a8">自定义域名别名与私钥的对应关系</a></li><li id="a9"><a href="#配置-fetch-url-和-push-url" id="a10">配置 fetch url 和 push url</a></li></ul></nav></aside><a id="fixYOffset" class="internal-link" href="#" style=""></a><h2 class="heading" id="生成不同的-ssh-密钥对">生成不同的 ssh 密钥对<a class="heading-anchor" href="/play-with-code/%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84-ssh-key-%E7%AE%A1%E7%90%86%E4%B8%8D%E5%90%8C%E7%9A%84-github-%E8%B4%A6%E6%88%B7/#%e7%94%9f%e6%88%90%e4%b8%8d%e5%90%8c%e7%9a%84-ssh-%e5%af%86%e9%92%a5%e5%af%b9" id="a13"></a></h2><p id="a14"><span class="unwrap" id="a15">使用命令 <code id="a16">ssh-keygen -t ed25519 -C 'xx01@xxx.com'</code> 可以生成密钥对。这里的 <code id="a17">-t ed25519</code> 指明了使用 <code id="a18">ed25519</code> 公钥加密算法。生成的过程中，系统会提示输入文件需要保存的路径，如果不输入，默认为：<code id="a19">~/.ssh/id_ed25519</code> 和 <code id="a20">~/.ssh/id_ed25519.pub</code>。</span></p><p id="a21"><span class="unwrap" id="a22">假设有两个 github 账户需要管理，用户名分别是：</span></p><ul id="a23"><li id="a24">cat</li><li id="a25">dog</li></ul><p id="a26"><span class="unwrap" id="a27">使用上述命令分别生成两个密钥对：</span></p><ul id="a28"><li id="a29"><code id="a30">~/.ssh/id_ed25519_cat</code> 和 <code id="a31">~/.ssh/id_ed25519_cat.pub</code></li><li id="a32"><code id="a33">~/.ssh/id_ed25519_dog</code> 和 <code id="a34">~/.ssh/id_ed25519_dog.pub</code></li></ul><h2 class="heading" id="自定义域名别名与私钥的对应关系">自定义域名别名与私钥的对应关系<a class="heading-anchor" href="/play-with-code/%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84-ssh-key-%E7%AE%A1%E7%90%86%E4%B8%8D%E5%90%8C%E7%9A%84-github-%E8%B4%A6%E6%88%B7/#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%9f%9f%e5%90%8d%e5%88%ab%e5%90%8d%e4%b8%8e%e7%a7%81%e9%92%a5%e7%9a%84%e5%af%b9%e5%ba%94%e5%85%b3%e7%b3%bb" id="a36"></a></h2><p id="a37"><span class="unwrap" id="a38">打开 <code id="a39">~/.ssh/config</code> 文件，没有则新建一个。填入以下内容：</span></p><div class="highlight" id="a40"><pre tabindex="0" class="torchlight" style="overflow: hidden;" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f" onmouseenter="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" onmouseleave="this.style.overflow = 'hidden';" ontouchstart="setTimeout(function() { this.style.overflow = 'auto'; }.bind(this), 300)" id="a41"><button data-text="复制" onclick="window.navigator.clipboard.writeText(nextElementSibling.innerText.replace(/&nbsp;/g, ''));this.setAttribute('data-text', '已复制');style='background-color: #009900';setTimeout(() => {this.setAttribute('data-text', '复制');this.removeAttribute('style')}, 1000);" id="a42"></button><code id="a43"><!-- Syntax highlighted by torchlight.dev --><div class="line" id="a44"><span style="color: #F8F8F2;" id="a45">Host github.com-cat</span></div><div class="line" id="a46"><span style="color: #F8F8F2;" id="a47">  HostName github.com</span></div><div class="line" id="a48"><span style="color: #F8F8F2;" id="a49">  User git</span></div><div class="line" id="a50"><span style="color: #F8F8F2;" id="a51">  IdentityFile ~/.ssh/id_ed25519_cat</span></div><div class="line" id="a52"><span style="color: #F8F8F2;" id="a53">  </span></div><div class="line" id="a54"><span style="color: #F8F8F2;" id="a55">Host github.com-dog</span></div><div class="line" id="a56"><span style="color: #F8F8F2;" id="a57">  HostName github.com</span></div><div class="line" id="a58"><span style="color: #F8F8F2;" id="a59">  User git</span></div><div class="line" id="a60"><span style="color: #F8F8F2;" id="a61">  IdentityFile ~/.ssh/id_ed25519_cat</span></div></code></pre></div><p id="a62"><span class="unwrap" id="a63">这里配置了两个域名别名，分别是 <code id="a64">github.com-cat</code> 和 <code id="a65">github.com-dog</code>，它们的真实域名都是指向 <code id="a66">github.com</code>，但是它们使用了不同的私钥。</span></p><h2 class="heading" id="配置-fetch-url-和-push-url">配置 fetch url 和 push url<a class="heading-anchor" href="/play-with-code/%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84-ssh-key-%E7%AE%A1%E7%90%86%E4%B8%8D%E5%90%8C%E7%9A%84-github-%E8%B4%A6%E6%88%B7/#%e9%85%8d%e7%bd%ae-fetch-url-%e5%92%8c-push-url" id="a68"></a></h2><p id="a69"><span class="unwrap" id="a70">简略的说，设置远程 url 的时候，把其中的 <code id="a71">git@github.com</code> 替换为 <code id="a72">git@github.com-cat</code> 或者 <code id="a73">git@github.com-dog</code> 即可，ssh 就会去 <code id="a74">~/.ssh/config</code> 文件中找对应的密钥。</span></p><p id="a75"><span class="unwrap" id="a76">详细步骤 ：</span></p><ol id="a77"><li id="a78">使用命令 <code id="a79">git remote add GithubCat git@github.com-cat:cat/cat.git</code>，为仓库添加 fetch url 和 push url，别名是 GithubCat。 通常情况下，大家会把别名写为 origin。注意这里的 <code id="a80">github.com-cat</code>，这和 <code id="a81">~/.ssh/config</code> 文件配置的别名要一致。</li><li id="a82">使用命令 <code id="a83">git remote -v</code> 可以查看已经存在的 fetch url 和 push url</li><li id="a84">使用命令 <code id="a85">git push GithubCat myBranch</code>，可以把本地的 myBranch 分支的代码推送到 GithubCat 指代的仓库中，并在远程仓库创建同名分支。如果想在以后执行 <code id="a86">git push</code> 的时候，默认使用 GithubCat 仓库的 myBranch 分支，可以执行一次 <code id="a87">git push --set-upstream GithubCat myBranch</code> 命令，可以简写为 <code id="a88">git push -u GithubCat myBranch</code>。这个命令的含意是，在未来的 <code id="a89">git push</code> 和 <code id="a90">git pull</code> 命令中，如果没有指定远程仓库和分支，那么默认使用 GithubCat 仓库的 myBranch 分支。</li></ol></article><aside id="TocAside" data-nosnippet=""><style>@media(min-width:1201px) and (max-width:1500px){main{margin-left:calc(50% - 600px)!important}}</style><nav id="TableOfContents"><ul><li><a href="#生成不同的-ssh-密钥对">生成不同的 ssh 密钥对</a></li><li><a href="#自定义域名别名与私钥的对应关系">自定义域名别名与私钥的对应关系</a></li><li><a href="#配置-fetch-url-和-push-url">配置 fetch url 和 push url</a></li></ul></nav></aside><picture><source srcset="https://storage.roamnote.com:8000/bg.png"><img src="https://storage.roamnote.com:8000/bg.avif" decoding="async" alt="漫游笔记" width="1920" style="aspect-ratio:1920/441"></picture></main></body></html>